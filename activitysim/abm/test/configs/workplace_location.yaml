SAMPLE_SIZE: 30

SIMULATE_CHOOSER_COLUMNS:
  - income_segment
  - TAZ

LOGSUM_SETTINGS: tour_mode_choice.yaml
LOGSUM_PREPROCESSOR: nontour_preprocessor

# model-specific logsum-related settings
CHOOSER_ORIG_COL_NAME: TAZ
ALT_DEST_COL_NAME: alt_dest
IN_PERIOD: 8
OUT_PERIOD: 17


annotate_persons:
  SPEC: annotate_persons_workplace
  DF: persons
  TABLES:
    - land_use

# - shadow pricing

MAX_SHADOW_PRICE_ITERATIONS: 5
MAX_SHADOW_PRICE_ITERATIONS_SAVED: 1

# income_segment is in households, but we want to count persons
CHOOSER_TABLE_NAME: persons_merged

DESTINATION_PREDICTED_SIZE_TABLE: workplace_destination_size

# size_terms selector
SELECTOR: work

# we can't use use household income_segment as this will also be set for non-workers
CHOOSER_SEGMENT_COLUMN: income_segment

# boolean column to filter choosers (True means keep)
CHOOSER_FILTER_COLUMN: is_worker

# FIXME - these are assigned to persons in annotate_persons. we need a better way to manage this
SEGMENT_IDS:
  work_low: 1
  work_med: 2
  work_high: 3
  work_veryhigh: 4


SHADOW_PRICE_TABLE: workplace_shadow_prices
MODELED_SIZE_TABLE: workplace_modeled_size

#SAVED_SHADOW_PRICE_TABLE_NAME: workplace_shadow_prices.csv

# ignore criteria for zones smaller than size_threshold
SIZE_THRESHOLD: 100

# zone passes if modeled is within percent_tolerance of  predicted_size
PERCENT_TOLERANCE: 5

# max percentage of zones allowed to fail
FAIL_THRESHOLD: 10
