Description,Target,Expression
#,, annotate persons table after school_location model has run
local scalar distance skim,_DISTANCE_SKIM,"skim_dict.get('DIST')"
,distance_to_school,"np.where(persons.school_zone_id>=0,_DISTANCE_SKIM.get(persons.home_zone_id, persons.school_zone_id),np.nan)"
#,, this uses the free flow travel time in both directions. MTC TM1 was MD and MD
local scalar distance skim,_SOVMD_SKIM,"skim_dict.get(('SOV_TIME', 'MD'))"
temp auto_time_to_school,_auto_time_to_school,"_SOVMD_SKIM.get(persons.home_zone_id, persons.school_zone_id)"
temp auto_time_return,_auto_time_return,"_SOVMD_SKIM.get(persons.school_zone_id, persons.home_zone_id)"
free flow roundtrip_auto_time_to_school,roundtrip_auto_time_to_school,"np.where(persons.school_zone_id>=0,_auto_time_to_school + _auto_time_return,0)"
