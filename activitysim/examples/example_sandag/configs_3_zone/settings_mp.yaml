inherit_settings: settings_static.yaml

# raise error if any sub-process fails without waiting for others to complete
fail_fast: True


# - ------------------------- dev config
multiprocess: True
strict: False
mem_tick: 30
use_shadow_pricing: False

num_processes: 47

# - -------------------------

# not recommended or supported for multiprocessing
want_dest_choice_sample_tables: False


multiprocess_steps:
  - name: mp_initialize
    begin: initialize_landuse
  - name: mp_accessibility
    begin: compute_accessibility
    num_processes: 47
    slice:
      tables:
        - accessibility
      # don't slice any tables not explicitly listed above in slice.tables
      except: True
  - name: mp_los
    begin: initialize_los
  - name: mp_tvpb
    begin: initialize_tvpb
    num_processes: 20
    slice:
      tables:
        - attribute_combinations
  - name: mp_models
    begin: school_location
    num_processes: 47
    slice:
      tables:
        - households
        - persons
  - name: mp_summarize
    begin: write_data_dictionary