Label,Description,Expression,Coefficient
# ESCORT,,,
util_escort_mode_choice_logsum,ESCORT - Mode Choice Logsum,"@np.where(df.tour_type == 'escort', df.mode_choice_logsum, 0) ",coef_escort_mode_choice_logsum
"#Note: In CTRAMP expressions, duration alternative is from 1 to 48 but in ActivitySim, it is from 0 to 47 since the duration alternative ID was calculated as (end - start). Therefore, duration in ActivitySim expression = CTRAMP duration expresssion - 1 ",,,#
util_escort_distance_to_destination_duration_less_than_30_minutes,ESCORT - Distance to destination - Duration less than 0.5 hour (depart and arrive in the same period),"@np.where(((df.tour_type == 'escort') & (df.duration<1)), ((df.origin_to_destination_distance) * df.durationShift_escort), 0)",coef_escort_distance_to_destination_duration_less_than_30_minutes
util_escort_distance_to_destination_duration_greater_than_30_minutes,ESCORT - Distance to destination - Duration greater than 0.5 hour,"@np.where(((df.tour_type == 'escort') & (df.duration>1)), ((df.origin_to_destination_distance) * df.durationShift_escort), 0)",coef_escort_distance_to_destination_duration_greater_than_30_minutes
util_escort_fulltime_worker_departure_after_8_am_linear,ESCORT - Full-time worker - Departure after 8:00 am - Linear,"@np.where(((df.tour_type == 'escort') & (df.ptype == 1) & (df.start>10)), df.departureLinearShift1_escort,0)",coef_escort_fulltime_worker_departure_after_8_am_linear
"#Note: In CTRAMP expression file, the description below says departure is after 3 am but from the expression it seems that it would be 3 pm instead of 3 am",,,
util_escort_fulltime_worker_departure_after_3_am_linear,ESCORT - Full-time worker - Departure after 3:00 am - Linear,"@np.where(((df.tour_type == 'escort') & (df.ptype == 1) & (df.start>24)), df.departureLinearShift2_escort, 0)",coef_escort_fulltime_worker_departure_after_3_am_linear
util_escort_fulltime_worker_duration_less_than_30_minutes,ESCORT - Full-time worker - Duration < 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.ptype == 1) & (df.duration<1)), df.durationShift_escort, 0)",coef_escort_fulltime_worker_duration_less_than_30_minutes
util_escort_fulltime_worker_duration_greater_than_30_minutes,ESCORT - Full-time worker - Duration > 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.ptype == 1) & (df.duration>1)), df.durationShift_escort, 0)",coef_escort_fulltime_worker_duration_greater_than_30_minutes
util_escort_university_student_duration_less_than_30_minutes,ESCORT - University student - Duration < 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.ptype == 3) & (df.duration<1)), df.durationShift_escort, 0)",coef_escort_university_student_duration_less_than_30_minutes
util_escort_non_driving_age_student_duration_greater_than_30_minutes,ESCORT - Non-driving age student - Duration > 0.5 hr,"@np.where(((df.tour_type == 'escort') & ((df.ptype == 7)|(df.ptype == 8)) & (df.duration>1)), df.durationShift_escort, 0)",coef_escort_non_driving_age_student_duration_greater_than_30_minutes
util_escort_driving_age_student_duration_less_than_30_minutes,ESCORT - Driving age student - Duration < 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.ptype == 6) & (df.duration<1)), df.durationShift_escort, 0)",coef_escort_driving_age_student_duration_less_than_30_minutes
util_escort_driving_age_student_duration_greater_than_30_minutes,ESCORT - Driving age student - Duration > 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.ptype == 6) & (df.duration>1)), df.durationShift_escort, 0)",coef_escort_driving_age_student_duration_greater_than_30_minutes
"#Note: In CTRAMP expression file, description says the expression below is for duration > 0.5 hr but the expression says duration < 0.5 hr",,,
util_escort_pre_school_kid_duration_greater_than_30_minutes,ESCORT - Pre-school kid - Duration > 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.ptype == 8) & (df.duration<1)), df.durationShift_escort, 0)",coef_escort_pre_school_kid_duration_greater_than_30_minutes
util_escort_med_high_income_duration_greater_than_30_minutes,ESCORT - Med-high income (60k to 120k) - Duration > 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.is_income_60K_to_120K) & (df.duration>1)), df.durationShift_escort, 0)",coef_escort_med_high_income_duration_greater_than_30_minutes
util_escort_households_with_no_kids_departure_before_7_30_am,"ESCORT - Households with no kids (Dummy- 1,0) - Departure before 7:30 AM","@np.where(((df.tour_type == 'escort') & (df.num_children == 0) & (df.start<10)), df.departureLinearShift1_escort, 0)",coef_escort_households_with_no_kids_departure_before_7_30_am
util_escort_households_with_no_kids_departure_after_8_00_am,"ESCORT - Households with no kids (Dummy- 1,0) - Departure after 8:00 AM","@np.where(((df.tour_type == 'escort') & (df.num_children == 0) & (df.start>10)), df.departureLinearShift1_escort, 0)",coef_escort_households_with_no_kids_departure_after_8_00_am
util_escort_households_with_no_kids_departure_before_2_30_pm,"ESCORT - Households with no kids (Dummy- 1,0) - Departure before 2:30 PM","@np.where(((df.tour_type == 'escort') & (df.num_children == 0) & (df.start<24)), df.departureLinearShift2_escort, 0)",coef_escort_households_with_no_kids_departure_before_2_30_pm
util_escort_households_with_no_kids_departure_after_3_00_pm,"ESCORT - Households with no kids (Dummy- 1,0) - Departure after 3:00 PM","@np.where(((df.tour_type == 'escort') & (df.num_children == 0) & (df.start>24)), df.departureLinearShift2_escort, 0)",coef_escort_households_with_no_kids_departure_after_3_00_pm
util_escort_households_with_no_kids_arrival_before_8_am,"ESCORT - Households with no kids (Dummy- 1,0) - Arrival before 8:00 AM","@np.where(((df.tour_type == 'escort') & (df.num_children == 0) & (df.end<11)), df.arrivalLinearShift1_escort, 0)",coef_escort_households_with_no_kids_arrival_before_8_am
util_escort_households_with_no_kids_arrival_after_8_30_am,"ESCORT - Households with no kids (Dummy- 1,0) - Arrival after 8:30 AM","@np.where(((df.tour_type == 'escort') & (df.num_children == 0) & (df.end>11)), df.arrivalLinearShift1_escort, 0)",coef_escort_households_with_no_kids_arrival_after_8_30_am
util_escort_households_with_no_kids_arrival_before_3_pm,"ESCORT - Households with no kids (Dummy- 1,0) - Arrival before 3:00 PM","@np.where(((df.tour_type == 'escort') & (df.num_children == 0) & (df.end<25)), df.arrivalLinearShift2_escort, 0)",coef_escort_households_with_no_kids_arrival_before_3_pm
util_escort_households_with_no_kids_arrival_after_3_30_pm,"ESCORT - Households with no kids (Dummy- 1,0) - Arrival after 3:30 PM","@np.where(((df.tour_type == 'escort') & (df.num_children == 0) & (df.end>25)), df.arrivalLinearShift2_escort, 0)",coef_escort_households_with_no_kids_arrival_after_3_30_pm
util_escort_pre_school_child_in_hh_with_mandatory_tour_departure_after_8_am,"ESCORT - Pre-School Child in HH with Mandatory tour (Dummy- 1,0) - Departure after 8:00 AM","@np.where(((df.tour_type == 'escort') & (df.has_pre_school_child_with_mandatory > 0) & (df.start>10)), df.departureLinearShift1_escort, 0)",coef_escort_pre_school_child_in_hh_with_mandatory_tour_departure_after_8_am
util_escort_pre_school_child_in_hh_with_mandatory_tour_departure_after_3_pm,"ESCORT - Pre-School Child in HH with Mandatory tour (Dummy- 1,0) - Departure after 3:00 PM","@np.where(((df.tour_type == 'escort') & (df.has_pre_school_child_with_mandatory > 0) & (df.start>24)), df.departureLinearShift2_escort, 0)",coef_escort_pre_school_child_in_hh_with_mandatory_tour_departure_after_3_pm
util_escort_pre_school_child_in_hh_with_mandatory_tour_arrival_before_8_am,"ESCORT -Pre-School Child in HH with Mandatory tour (Dummy- 1,0) - Arrival before 8:00 AM","@np.where(((df.tour_type == 'escort') & (df.has_pre_school_child_with_mandatory > 0) & (df.end<11)), df.arrivalLinearShift1_escort, 0)",coef_escort_pre_school_child_in_hh_with_mandatory_tour_arrival_before_8_am
util_escort_pre_school_child_in_hh_with_mandatory_tour_arrival_before_3_pm,"ESCORT - Pre-School Child in HH with Mandatory tour (Dummy- 1,0) - Arrival before 3:00 PM","@np.where(((df.tour_type == 'escort') & (df.has_pre_school_child_with_mandatory > 0) & (df.end<25)), df.arrivalLinearShift2_escort, 0)",coef_escort_pre_school_child_in_hh_with_mandatory_tour_arrival_before_3_pm
util_escort_driving_age_school_child_in_hh_with_mandatory_tour_departure_after_8_am,"ESCORT - Driving age School Child in HH with Mandatory tour (Dummy- 1,0) - Departure after 8:00 AM","@np.where(((df.tour_type == 'escort') & (df.has_driving_age_child_with_mandatory > 0) & (df.start>10)), df.departureLinearShift1_escort, 0)",coef_escort_driving_age_school_child_in_hh_with_mandatory_tour_departure_after_8_am
util_escort_driving_age_school_child_in_hh_with_mandatory_tour_arrival_after_8_30_am,"ESCORT - Driving age School Child in HH with Mandatory tour (Dummy- 1,0) - Arrival after 8:30 AM","@np.where(((df.tour_type == 'escort') & (df.has_driving_age_child_with_mandatory > 0) & (df.end>11)), df.arrivalLinearShift1_escort, 0)",coef_escort_driving_age_school_child_in_hh_with_mandatory_tour_arrival_after_8_30_am
util_escort_driving_age_school_child_in_hh_with_mandatory_tour_arrival_after_3_30_pm,"ESCORT - Driving age School Child in HH with Mandatory tour (Dummy- 1,0) - Arrival after 3:30 PM","@np.where(((df.tour_type == 'escort') & (df.has_driving_age_child_with_mandatory > 0) & (df.end>25)), df.arrivalLinearShift2_escort, 0)",coef_escort_driving_age_school_child_in_hh_with_mandatory_tour_arrival_after_3_30_pm
util_escort_number_of_autos_greater_than_number_of_adults_duration_greater_than_30_minutes,ESCORT - Number of autos greater than number of adults - Duration > 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.auto_ownership > 0) & (df.auto_ownership > df.num_adults) & (df.duration>1)), df.durationShift_escort, 0)",coef_escort_number_of_autos_greater_than_number_of_adults_duration_greater_than_30_minutes
util_escort_number_of_individual_tours_duration_greater_than_30_minutes,ESCORT -Number of Individual Tours (excluding escorting) - Duration > 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.num_non_escort_tours > 0) & (df.duration>1)), df.durationShift_escort*df.num_non_escort_tours, 0)",coef_escort_number_of_individual_tours_duration_greater_than_30_minutes
util_escort_number_of_joint_tours_duration_greater_than_30_minutes,ESCORT - Number of joint tours - Duration > 0.5 hr,"@np.where(((df.tour_type == 'escort') & (df.duration>1)), df.durationShift_escort *(df.num_joint_tours), 0)",coef_escort_number_of_joint_tours_duration_greater_than_30_minutes
util_escort_departure_constant_shift_for_every_30_minutes_before_6_30_am_linear,ESCORT - Departure Constant: Shift for every 30 minutes before 06:30 am - Linear,"@np.where(((df.tour_type == 'escort') & (df.start<8)), df.depConstShift1_escort, 0)",coef_escort_departure_constant_shift_for_every_30_minutes_before_6_30_am_linear
util_escort_departure_constant_before_7_am,ESCORT - Departure Constant: Before 07:00 AM,@((df.tour_type == 'escort') & (df.start<9)),coef_escort_departure_constant_before_7_am
util_escort_departure_constant_7_am_to_7_30_am,ESCORT - Departure Constant: 07:00 AM - 07:30 AM,@((df.tour_type == 'escort') & (df.start==9)),coef_escort_departure_constant_7_am_to_7_30_am
util_escort_departure_constant_7_30_am_to_8_am,ESCORT - Departure Constant: 07:30 AM - 08:00 AM,@((df.tour_type == 'escort') & (df.start==10)),coef_escort_departure_constant_7_30_am_to_8_am
util_escort_departure_constant_8_am_to_8_30_am,ESCORT - Departure Constant: 08:00 AM - 08:30 AM,@((df.tour_type == 'escort') & (df.start==11)),coef_escort_departure_constant_8_am_to_8_30_am
util_escort_departure_constant_8_30_am_to_9_am,ESCORT - Departure Constant: 08:30 AM - 09:00 AM,@((df.tour_type == 'escort') & (df.start==12)),coef_escort_departure_constant_8_30_am_to_9_am
util_escort_departure_constant_after_9_am,ESCORT - Departure Constant: After 09:00 AM,@((df.tour_type == 'escort') & (df.start>12)),coef_escort_departure_constant_after_9_am
util_escort_departure_constant_1_30_pm_to_2_pm,ESCORT - Departure Constant: 01:30 PM - 02:00 PM,@((df.tour_type == 'escort') & (df.start==22)),coef_escort_departure_constant_1_30_pm_to_2_pm
util_escort_departure_constant_2_pm_to_2_30_pm,ESCORT - Departure Constant: 02:00 PM - 02:30 PM,@((df.tour_type == 'escort') & (df.start==23)),coef_escort_departure_constant_2_pm_to_2_30_pm
util_escort_departure_constant_2_30_pm_to_3_pm,ESCORT - Departure Constant: 02:30 PM - 03:00 PM,@((df.tour_type == 'escort') & (df.start==24)),coef_escort_departure_constant_2_30_pm_to_3_pm
util_escort_departure_constant_3_pm_to_3_30_pm,ESCORT - Departure Constant: 03:00 PM - 03:30 PM,@((df.tour_type == 'escort') & (df.start==25)),coef_escort_departure_constant_3_pm_to_3_30_pm
util_escort_departure_constant_after_3_30_pm,ESCORT - Departure Constant: After 03:30 PM,@((df.tour_type == 'escort') & (df.start>25)),coef_escort_departure_constant_after_3_30_pm
util_escort_departure_constant_shift_for_every_30_minutes_after_9_30_am_linear,ESCORT - Departure Constant: Shift for every 30 minutes after 9:30 am - Linear,"@np.where(((df.tour_type == 'escort') & (df.start>13)), df.depConstShift1_escort, 0)",coef_escort_departure_constant_shift_for_every_30_minutes_after_9_30_am_linear
util_escort_departure_constant_shift_for_every_30_minutes_after_4_pm_linear,ESCORT - Departure Constant: Shift for every 30 minutes after 4:00 pm - Linear,"@np.where(((df.tour_type == 'escort') & (df.start>26)), df.depConstShift2_escort, 0)",coef_escort_departure_constant_shift_for_every_30_minutes_after_4_pm_linear
util_escort_arrival_constant_shift_for_every_30_minutes_before_6_30_am_linear,ESCORT - Arrival Constant: Shift for every 30 minutes before 6:30 am - Linear,"@np.where(((df.tour_type == 'escort') & (df.end<8)), df.arrConstShift1_escort, 0)",coef_escort_arrival_constant_shift_for_every_30_minutes_before_6_30_am_linear
util_escort_arrival_constant_before_7_am,ESCORT - Arrival Constant: Before 07:00 AM,@((df.tour_type == 'escort') & (df.end<9)),coef_escort_arrival_constant_before_7_am
util_escort_arrival_constant_7_am_to_7_30_am,ESCORT - Arrival Constant: 07:00 AM - 07:30 AM,@((df.tour_type == 'escort') & (df.end==9)),coef_escort_arrival_constant_7_am_to_7_30_am
util_escort_arrival_constant_7_30_am_to_8_am,ESCORT - Arrival Constant: 07:30 AM - 08:00 AM,@((df.tour_type == 'escort') & (df.end==10)),coef_escort_arrival_constant_7_30_am_to_8_am
util_escort_arrival_constant_8_am_to_8_30_am,ESCORT - Arrival Constant: 08:00 AM - 08:30 AM,@((df.tour_type == 'escort') & (df.end==11)),coef_escort_arrival_constant_8_am_to_8_30_am
util_escort_arrival_constant_8_30_am_to_9_am,ESCORT - Arrival Constant: 08:30 AM - 09:00 AM,@((df.tour_type == 'escort') & (df.end==12)),coef_escort_arrival_constant_8_30_am_to_9_am
util_escort_arrival_constant_after_9_am,ESCORT - Arrival Constant: After 09:00 AM,@((df.tour_type == 'escort') & (df.end>12)),coef_escort_arrival_constant_after_9_am
util_escort_arrival_constant_2_30_pm_to_3_pm,ESCORT - Arrival Constant: 02:30 PM - 03:00 PM,@((df.tour_type == 'escort') & (df.end==24)),coef_escort_arrival_constant_2_30_pm_to_3_pm
util_escort_arrival_constant_3_pm_to_3_30_pm,ESCORT - Arrival Constant: 03:00 PM - 03:30 PM,@((df.tour_type == 'escort') & (df.end==25)),coef_escort_arrival_constant_3_pm_to_3_30_pm
util_escort_arrival_constant_3_30_pm_to_4_pm,ESCORT - Arrival Constant: 03:30 PM - 04:00 PM,@((df.tour_type == 'escort') & (df.end==26)),coef_escort_arrival_constant_3_30_pm_to_4_pm
util_escort_arrival_constant_4_pm_to_4_30_pm,ESCORT - Arrival Constant: 04:00 PM - 04:30 PM,@((df.tour_type == 'escort') & (df.end==27)),coef_escort_arrival_constant_4_pm_to_4_30_pm
util_escort_arrival_constant_after_4_30_pm,ESCORT - Arrival Constant: After 04:30 PM,@((df.tour_type == 'escort') & (df.end>27)),coef_escort_arrival_constant_after_4_30_pm
util_escort_arrival_constant_shift_for_every_30_minutes_after_9_30_am_linear,ESCORT - Arrival Constant: Shift for every 30 minutes after 9:30 am - Linear,"@np.where(((df.tour_type == 'escort') & (df.end>13)), df.arrConstShift1_escort, 0)",coef_escort_arrival_constant_shift_for_every_30_minutes_after_9_30_am_linear
util_escort_arrival_constant_shift_for_every_30_minutes_after_5_pm_linear,ESCORT - Arrival Constant: Shift for every 30 minutes after 5:00 pm - Linear,"@np.where(((df.tour_type == 'escort') & (df.end>28)), df.arrConstShift2_escort, 0)",coef_escort_arrival_constant_shift_for_every_30_minutes_after_5_pm_linear
util_escort_duration_constant_0_hour,ESCORT - Duration Constant: 0 hr,@((df.tour_type == 'escort') & (df.duration==0)),coef_escort_duration_constant_0_hour
util_escort_duration_constant_30_minutes,ESCORT - Duration Constant: 0.5 hr,@((df.tour_type == 'escort') & (df.duration==1)),coef_escort_duration_constant_30_minutes
util_escort_duration_constant_1_hour,ESCORT - Duration Constant: 1 hr,@((df.tour_type == 'escort') & (df.duration==2)),coef_escort_duration_constant_1_hour
util_escort_duration_constant_1_hour_30_minutes,ESCORT - Duration Constant: 1.5hrs,@((df.tour_type == 'escort') & (df.duration==3)),coef_escort_duration_constant_1_hour_30_minutes
util_escort_duration_constant_2_hours,ESCORT - Duration Constant: 2 hrs,@((df.tour_type == 'escort') & (df.duration==4)),coef_escort_duration_constant_2_hours
util_escort_duration_constant_longer_than_2_hours,ESCORT - Duration Constant: Longer than 2 hrs,@((df.tour_type == 'escort') & (df.duration>4)),coef_escort_duration_constant_longer_than_2_hours
util_escort_calibration_constant_duration_1,ESCORT - Calibration Constant - Duration = 1,@((df.tour_type == 'escort') & (df.duration==0)),coef_escort_calibration_constant_duration_1
util_escort_calibration_constant_duration_2,ESCORT - Calibration Constant - Duration = 2,@(((df.tour_type == 'escort') & df.duration==1)),coef_escort_calibration_constant_duration_2
util_escort_calibration_constant_departure_9,ESCORT - Calibration Constant - Departure = 9,@((df.tour_type == 'escort') & (df.start==9)),coef_escort_calibration_constant_departure_9
util_escort_calibration_constant_departure_10,ESCORT - Calibration Constant - Departure = 10,@((df.tour_type == 'escort') & (df.start==10)),coef_escort_calibration_constant_departure_10
util_escort_calibration_constant_departure_23,ESCORT - Calibration Constant - Departure = 23,@((df.tour_type == 'escort') & (df.start==23)),coef_escort_calibration_constant_departure_23
util_escort_calibration_constant_departure_24,,@((df.tour_type == 'escort') & (df.start==24)),coef_escort_calibration_constant_departure_24
#SHOPPING,ESCORT - Calibration Constant - Departure = 24,,#SHOPPING
util_shoppping_driving_age_student_duration_greater_than_1_hour_30_minutes,SHOPPING - Driving age student: Duration > 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration>2) & (df.ptype == 6)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2), np.minimum(df.duration-2,26), 0)), 0)",coef_shoppping_driving_age_student_duration_greater_than_1_hour_30_minutes
util_shoppping_full_time_worker_duration_greater_than_1_hour_30_minutes,SHOPPING - Full-time worker: Duration > 1.5 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration>2) & (df.ptype == 1)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shoppping_full_time_worker_duration_greater_than_1_hour_30_minutes
util_shoppping_non_driving_student_duration_greater_than_1_hour_30_minutes,SHOPPING - Non-driving Student: Duration > 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration>2) & ((df.ptype == 7)|(df.ptype == 8))), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shoppping_non_driving_student_duration_greater_than_1_hour_30_minutes
util_shoppping_pre_school_child_duration_less_than_1_hour_30_minutes,SHOPPING - Pre-school Child: Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration<2) & (df.ptype == 8)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shoppping_pre_school_child_duration_less_than_1_hour_30_minutes
util_shoppping_part_time_worker_duration_less_than_1_hour_30_minutes,SHOPPING - Part Time Worker: Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration<2) & (df.ptype == 2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shoppping_part_time_worker_duration_less_than_1_hour_30_minutes
util_shopping_part_time_worker_duration_greater_than_1_hour_30_minutes,SHOPPING - Part Time Worker: Duration > 1.5 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration>2) & (df.ptype == 2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shopping_part_time_worker_duration_greater_than_1_hour_30_minutes
util_shopping_retired_duration_less_than_1_hour_30_minutes,SHOPPING - Retired: Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration<2) & (df.ptype == 5)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shopping_retired_duration_less_than_1_hour_30_minutes
util_shopping_retired_duration_greater_than_1_hour_30_minutes,SHOPPING - Retired: Duration > 1.5 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration>2) & (df.ptype == 5)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shopping_retired_duration_greater_than_1_hour_30_minutes
util_shopping_university_student_duration_greater_than_1_hour_30_minutes,SHOPPING - University Student: Duration > 1.5 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration>2) & (df.ptype == 3)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shopping_university_student_duration_greater_than_1_hour_30_minutes
util_shopping_female_duration_less_than_1_hour_30_minutes,SHOPPING - Female: Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration<2) & (df.female)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2), np.minimum(df.duration-2,26), 0)), 0)",coef_shopping_female_duration_less_than_1_hour_30_minutes
util_shopping_female_duration_greater_than_1_hour_30_minutes,SHOPPING - Female: Duration > 1.5 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration>2) & (df.female)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shopping_female_duration_greater_than_1_hour_30_minutes
util_shopping_low_income_duration_greater_than_1_hour_30_minutes,"SHOPPING - Low Income (<=$25,000): Duration > 1.5 hr","@np.where(((df.tour_type == 'shopping') & (df.is_income_less25K) & (df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shopping_low_income_duration_greater_than_1_hour_30_minutes
util_shopping_medium_income_duration_less_than_1_hour_30_minutes,"SHOPPING - Medium Income ($25,001 to $60,000): Duration < 1.5 hrs","@np.where(((df.tour_type == 'shopping') & (df.is_income_25K_to_60K) & (df.duration<2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_shopping_medium_income_duration_less_than_1_hour_30_minutes
util_shopping_medium_high_income_duration_greater_than_1_hour_30_minutes,"SHOPPING - Medium-High Income ($60,001 to $120,00): Duration > 1.5 hrs","@np.where(((df.tour_type == 'shopping') & (df.is_income_60K_to_120K) & (df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2), np.minimum(df.duration-2,26), 0)), 0)",coef_shopping_medium_high_income_duration_greater_than_1_hour_30_minutes
util_shopping_distance_duration_less_than_1_hour_30_minutes,SHOPPING - Distance: Duration < 1.5 hrs,"@np.where(((df.tour_type == 'shopping') & (df.duration<2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)) * (df.origin_to_destination_distance), 0)",coef_shopping_distance_duration_less_than_1_hour_30_minutes
util_shopping_distance_duration_greater_than_1_hour_30_minutes,SHOPPING - Distance: Duration > 1.5 hrs,"@np.where(((df.tour_type == 'shopping') & (df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)) * (df.origin_to_destination_distance), 0)",coef_shopping_distance_duration_greater_than_1_hour_30_minutes
util_shopping_time_pressure_duration_greater_than_1_hour_30_minutes,SHOPPING - Time Pressure - Duration > 1.5 hrs,"@np.where(((df.tour_type == 'shopping') & (df.duration>2)), np.minimum(df.duration-2,26) *(np.log10 (30 *(tt.remaining_periods_available(df.person_id, df.start, df.end)/(1.0 + df.tour_count - df.tour_num)))), 0)",coef_shopping_time_pressure_duration_greater_than_1_hour_30_minutes
util_shopping_number_of_additional_individual_shop_and_maint_tours_duration_less_than_1_hour_30_minutes,SHOPPING - Number of additional individual shop and maint. tours - Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') & (df.duration<2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)) *(df.num_add_shop_maint_tours), 0)",coef_shopping_number_of_additional_individual_shop_and_maint_tours_duration_less_than_1_hour_30_minutes
util_shopping_number_of_additional_individual_shop_and_maint_tours_duration_greater_than_1_hour_30_minutes,SHOPPING - Number of additional individual shop and maint. tours - Duration > 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'shopping') &(df.duration>2)),  (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)) *(df.num_add_shop_maint_tours), 0)",coef_shopping_number_of_additional_individual_shop_and_maint_tours_duration_greater_than_1_hour_30_minutes
util_shopping_departure_constant_shift_for_every_30_minutes_before_8_30_am_linear,SHOPPING - Departure Constant: Shift for every 30 minutes before 08:30 am - Linear,"@np.where(((df.tour_type == 'shopping') & (df.start<12)), (np.where((df.start<12), np.minimum(12-df.start,7), 0) + np.where((df.start>17), np.minimum(df.start-17,24), 0)), 0)",coef_shopping_departure_constant_shift_for_every_30_minutes_before_8_30_am_linear
util_shopping_departure_constant_shift_for_every_30_minutes_before_8_30_am_square_root,SHOPPING - Departure Constant: Shift for every 30 minutes before 08:30 am - Square root,"@np.where(((df.tour_type == 'shopping') & (df.start<12)), (np.where((df.start<12), np.minimum(12-df.start,7), 0) + np.where((df.start>17), np.minimum(df.start-17,24), 0))**0.5, 0)",coef_shopping_departure_constant_shift_for_every_30_minutes_before_8_30_am_square_root
util_shopping_departure_constant_before_9_am,SHOPPING - Departure Constant: Before 09:00 AM,@((df.tour_type == 'shopping') & (df.start<13)),coef_shopping_departure_constant_before_9_am
util_shopping_departure_constant_9_am_to_9_30_am,SHOPPING - Departure Constant: 09:00 AM - 09:30 AM,@((df.tour_type == 'shopping') & (df.start==13)),coef_shopping_departure_constant_9_am_to_9_30_am
util_shopping_departure_constant_9_30_am_to_10_am,SHOPPING - Departure Constant: 09:30 AM - 10:00 AM,@((df.tour_type == 'shopping') & (df.start==14)),coef_shopping_departure_constant_9_30_am_to_10_am
util_shopping_departure_constant_10_am_to_10_30_am,SHOPPING - Departure Constant: 10:00 AM - 10:30 AM,@((df.tour_type == 'shopping') & (df.start==15)),coef_shopping_departure_constant_10_am_to_10_30_am
util_shopping_departure_constant_10_30_am_to_11_00_am,SHOPPING - Departure Constant: 10:30 AM - 11:00 AM,@((df.tour_type == 'shopping') & (df.start==16)),coef_shopping_departure_constant_10_30_am_to_11_00_am
util_shopping_departure_constant_after_11_am,SHOPPING - Departure Constant: After 11:00 AM,@((df.tour_type == 'shopping') & (df.start>16)),coef_shopping_departure_constant_after_11_am
util_shopping_departure_constant_shift_for_every_30_minutes_after_11_30_am_linear,SHOPPING - Departure Constant: Shift for every 30 minutes after 11:30 am - Linear,"@np.where(((df.tour_type == 'shopping') & (df.start>17)), (np.where((df.start<12), np.minimum(12-df.start,7),0) + np.where((df.start>17), np.minimum(df.start-17,24), 0)), 0)",coef_shopping_departure_constant_shift_for_every_30_minutes_after_11_30_am_linear
util_shopping_departure_constant_shift_for_every_30_minutes_after_11_30_am_squared,SHOPPING - Departure Constant: Shift for every 30 minutes after 11:30 am - Squared,"@np.where(((df.tour_type == 'shopping') & (df.start>17)), ((np.where((df.start<12), np.minimum(12-df.start,7), 0) + np.where((df.start>17), np.minimum(df.start-17,24), 0)) ** 2), 0)",coef_shopping_departure_constant_shift_for_every_30_minutes_after_11_30_am_squared
util_shopping_arrival_constant_shift_for_every_30_minutes_before_12_pm_linear,SHOPPING - Arrival Constant: Shift for every 30 minutes before 12:00 pm - Linear,"@np.where(((df.tour_type == 'shopping') & (df.end<19)), (np.where ((df.end<19), np.minimum(19-df.end,10), 0) + np.where((df.end>38), np.minimum(df.end-38,5), 0)), 0)",coef_shopping_arrival_constant_shift_for_every_30_minutes_before_12_pm_linear
util_shopping_arrival_constant_before_12_30_pm,SHOPPING - Arrival Constant: Before 12:30 PM,@((df.tour_type == 'shopping') & (df.end<20)),coef_shopping_arrival_constant_before_12_30_pm
util_shopping_arrival_constant_12_30_pm_to_3_pm,SHOPPING - Arrival Constant: 12:30 PM - 03:00 PM,@((df.tour_type == 'shopping') & ( df.end>=20) & (df.end<=24)),coef_shopping_arrival_constant_12_30_pm_to_3_pm
util_shopping_arrival_constant_3_pm_to_3_30_pm,SHOPPING - Arrival Constant: 03:00 PM - 03:30 PM,@((df.tour_type == 'shopping') & (df.end==25)),coef_shopping_arrival_constant_3_pm_to_3_30_pm
util_shopping_arrival_constant_3_30_pm_to_4_pm,SHOPPING - Arrival Constant: 03:30 PM - 04:00 PM,@((df.tour_type == 'shopping') & (df.end==26)),coef_shopping_arrival_constant_3_30_pm_to_4_pm
util_shopping_arrival_constant_4_pm_to_4_30_pm,SHOPPING - Arrival Constant: 04:00 PM - 04:30 PM,@((df.tour_type == 'shopping') & (df.end==27)),coef_shopping_arrival_constant_4_pm_to_4_30_pm
util_shopping_arrival_constant_4_30_pm_to_5_pm,SHOPPING - Arrival Constant: 04:30 PM - 05:00 PM,@((df.tour_type == 'shopping') & (df.end==28)),coef_shopping_arrival_constant_4_30_pm_to_5_pm
util_shopping_arrival_constant_5_pm_to_5_30_pm,SHOPPING - Arrival Constant: 05:00 PM - 05:30 PM,@((df.tour_type == 'shopping') & (df.end==29)),coef_shopping_arrival_constant_5_pm_to_5_30_pm
util_shopping_arrival_constant_5_30_pm_to_7_pm,SHOPPING - Arrival Constant: 05:30 PM - 07:00 PM,@((df.tour_type == 'shopping') & (df.end>=30) & (df.end<=32)),coef_shopping_arrival_constant_5_30_pm_to_7_pm
util_shopping_arrival_constant_7_pm_to_9_30_pm,SHOPPING - Arrival Constant: 07:00 PM - 09:30 PM,@((df.tour_type == 'shopping') & (df.end>=33) & (df.end<=37)),coef_shopping_arrival_constant_7_pm_to_9_30_pm
util_shopping_arrival_constant_after_9_30_pm,SHOPPING - Arrival Constant: After 09:30 PM,@((df.tour_type == 'shopping') & (df.end>37)),coef_shopping_arrival_constant_after_9_30_pm
util_shopping_arrival_constant_shift_for_every_30_minutes_after_10_pm_linear,SHOPPING - Arrival Constant: Shift for every 30 minutes after 10:00 pm - Linear,"@np.where(((df.tour_type == 'shopping') & (df.end>38)), (np.where((df.end<19), np.minimum(19-df.end,10), 0) + np.where ((df.end>38), np.minimum(df.end-38,5), 0)), 0)",coef_shopping_arrival_constant_shift_for_every_30_minutes_after_10_pm_linear
util_shopping_duration_constant_0_hr,SHOPPING - Duration Constant: 0 hr,@((df.tour_type == 'shopping') & (df.duration==0)),coef_shopping_duration_constant_0_hr
util_shopping_duration_constant_30_minutes,SHOPPING - Duration Constant: 0.5 hr,@((df.tour_type == 'shopping') & (df.duration==1)),coef_shopping_duration_constant_30_minutes
util_shopping_duration_constant_1_hr,SHOPPING - Duration Constant: 1 hr,@((df.tour_type == 'shopping') & (df.duration==2)),coef_shopping_duration_constant_1_hr
util_shopping_duration_constant_1_hour_30_minutes,SHOPPING - Duration Constant: 1.5hrs,@(df.tour_type == 'shopping') & (df.duration==3),coef_shopping_duration_constant_1_hour_30_minutes
util_shopping_duration_constant_2_hrs,SHOPPING - Duration Constant: 2 hrs,@((df.tour_type == 'shopping') & (df.duration==4)),coef_shopping_duration_constant_2_hrs
util_shopping_duration_constant_longer_than_2_hrs,SHOPPING - Duration Constant: Longer than 2 hrs,@((df.tour_type == 'shopping') & (df.duration>4)),coef_shopping_duration_constant_longer_than_2_hrs
util_shopping_duration_constant_duration_greater_than_2_hr_30_minutes_linear,SHOPPING - Duration Constant: Duration > 2.5 hrs - Linear,"@np.where(((df.tour_type == 'shopping') & (df.duration>5)), (np.where((df.duration<0), np.minimum(0-df.duration,47), 0) + np.where((df.duration>5), np.minimum(df.duration-5,26), 0)), 0)",coef_shopping_duration_constant_duration_greater_than_2_hr_30_minutes_linear
util_shopping_duration_constant_duration_greater_than_2_hr_30_minutes_square_root,SHOPPING - Duration Constant: Duration > 2.5 hrs - Square root,"@np.where(((df.tour_type == 'shopping') & (df.duration>5)), ((np.where((df.duration<0), np.minimum(0-df.duration,47), 0) + np.where((df.duration>5), np.minimum(df.duration-5,26), 0)) ** 0.5), 0)",coef_shopping_duration_constant_duration_greater_than_2_hr_30_minutes_square_root
util_shopping_calibration_constant_duration_1,SHOPPING - Calibration Constant - Duration = 1,@((df.tour_type == 'shopping') & (df.duration==0)),coef_shopping_calibration_constant_duration_1
util_shopping_calibration_constant_duration_2,SHOPPING - Calibration Constant - Duration = 2,@((df.tour_type == 'shopping') & (df.duration==1)),coef_shopping_calibration_constant_duration_2
util_shopping_calibration_constant_duration_3,SHOPPING - Calibration Constant - Duration = 3,@((df.tour_type == 'shopping') & (df.duration==2)),coef_shopping_calibration_constant_duration_3
#MAINTENANCE,#MAINTENANCE,,#MAINTENANCE
util_maintenance_driving_age_student_duration_greater_than_1_hour_30_minutes,MAINTENANCE - Driving age student: Duration > 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration>2) & (df.ptype == 6)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_driving_age_student_duration_greater_than_1_hour_30_minutes
util_maintenance_full_time_worker_duration_greater_than_1_hour_30_minutes,MAINTENANCE - Full-time worker: Duration > 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration>2) & (df.ptype == 1)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_full_time_worker_duration_greater_than_1_hour_30_minutes
util_maintenance_non_driving_student_duration_greater_than_1_hour_30_minutes,MAINTENANCE - Non-driving Student: Duration > 1.5 hrs,"@np.where (((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration>2) & ((df.ptype == 7)|(df.ptype == 8))), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_non_driving_student_duration_greater_than_1_hour_30_minutes
util_maintenance_pre_school_child_duration_less_than_1_hour_30_minutes,MAINTENANCE - Pre-school Child: Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration<2) & (df.ptype == 8)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_pre_school_child_duration_less_than_1_hour_30_minutes
util_maintenance_part_time_worker_duration_less_than_1_hour_30_minutes,MAINTENANCE - Part Time Worker: Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration<2) & (df.ptype == 2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_part_time_worker_duration_less_than_1_hour_30_minutes
util_maintenance_part_time_worker_duration_greater_than_1_hour_30_minutes,MAINTENANCE - Part Time Worker: Duration > 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration>2) & (df.ptype == 2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_part_time_worker_duration_greater_than_1_hour_30_minutes
util_maintenance_retired_duration_less_than_1_hour_30_minutes,MAINTENANCE - Retired: Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration<2) & (df.ptype == 1)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_retired_duration_less_than_1_hour_30_minutes
util_maintenance_retired_duration_greater_than_1_hour_30_minutes,MAINTENANCE - Retired: Duration > 1.5 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration>2) & (df.ptype == 5)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_retired_duration_greater_than_1_hour_30_minutes
util_maintenance_university_student_duration_greater_than_1_hour_30_minutes,MAINTENANCE - University Student: Duration > 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration>2) & (df.ptype == 3)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_university_student_duration_greater_than_1_hour_30_minutes
util_maintenance_female_duration_less_than_1_hour_30_minutes,MAINTENANCE - Female: Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration<2) & (df.female)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_female_duration_less_than_1_hour_30_minutes
util_maintenance_female_duration_greater_than_1_hour_30_minutes,MAINTENANCE - Female: Duration > 1.5 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othmaint') & (df.duration>2) & (df.female)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_female_duration_greater_than_1_hour_30_minutes
util_maintenance_low_income_duration_greater_than_1_hour_30_minutes,"MAINTENANCE - Low Income (<=$25,000): Duration > 1.5 hrs","@np.where(((df.tour_type == 'othmaint') & (df.is_income_less25K) & (df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_low_income_duration_greater_than_1_hour_30_minutes
util_maintenance_medium_income_duration_less_than_1_hour_30_minutes,"MAINTENANCE - Medium Income ($25,001 to $60,000): Duration < 1.5 hrs","@np.where(((df.tour_type == 'othmaint') & (df.is_income_25K_to_60K) & (df.duration<2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_medium_income_duration_less_than_1_hour_30_minutes
util_maintenance_medium_income_duration_greater_than_1_hour_30_minutes,"MAINTENANCE - Medium Income ($25,001 to $60,000): Duration > 1.5 hrs","@np.where(((df.tour_type == 'othmaint') & (df.is_income_25K_to_60K) & (df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_medium_income_duration_greater_than_1_hour_30_minutes
util_maintenance_medium_high_income_duration_greater_than_1_hour_30_minutes,"MAINTENANCE - Medium-High Income ($60,001 to $120,00): Duration > 1.5 hrs","@np.where(((df.tour_type == 'othmaint') & (df.is_income_60K_to_120K) & (df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2), np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_medium_high_income_duration_greater_than_1_hour_30_minutes
util_maintenance_distance_duration_less_than_1_hour_30_minutes,MAINTENANCE - Distance: Duration < 1.5 hrs,"@np.where(((df.tour_type == 'othmaint') & (df.duration<2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)) *(df.origin_to_destination_distance), 0)",coef_maintenance_distance_duration_less_than_1_hour_30_minutes
util_maintenance_distance_duration_greater_than_1_hour_30_minutes,MAINTENANCE - Distance: Duration > 1.5 hrs,"@np.where(((df.tour_type == 'othmaint') & (df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)) * (df.origin_to_destination_distance), 0)",coef_maintenance_distance_duration_greater_than_1_hour_30_minutes
util_maintenance_time_pressure_duration_greater_than_1_hour_30_minutes,Time Pressure - Duration > 1.5 hrs,"@np.where(((df.tour_type == 'othmaint') & (df.duration>2)), np.minimum(df.duration-2,26) * (np.log10 (30 * (tt.remaining_periods_available(df.person_id, df.start, df.end)/(1.0 + df.tour_count - df.tour_num)))), 0)",coef_maintenance_time_pressure_duration_greater_than_1_hour_30_minutes
util_maintenance_number_of_additional_individual_shop_and_maint_tours_duration_less_than_1_hour_30_minutes,MAINTENANCE - Number of additional individual shop and maint. tours - Duration < 1.5 hrs,"@np.where(((df.tour_category != 'joint')&(df.tour_type == 'othmaint')&(df.duration<2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)) * (df.num_add_shop_maint_tours), 0)",coef_maintenance_number_of_additional_individual_shop_and_maint_tours_duration_less_than_1_hour_30_minutes
util_maintenance_number_of_additional_individual_shop_and_maint_tours_duration_greater_than_1_hour_30_minutes,MAINTENANCE - Number of additional individual shop and maint. tours - Duration > 1.5 hrs,"@np.where(((df.tour_category != 'joint')&(df.tour_type == 'othmaint')&(df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,1), 0) + np.where((df.duration>2),np.minimum(df.duration-2,26), 0)) * (df.num_add_shop_maint_tours), 0)",coef_maintenance_number_of_additional_individual_shop_and_maint_tours_duration_greater_than_1_hour_30_minutes
util_maintenance_departure_constant_shift_for_every_30_minutes_before_7_30_am_linear,MAINTENANCE - Departure Constant: Shift for every 30 minutes before 07:30 am - Linear,"@np.where(((df.tour_type == 'othmaint') & (df.start<10)), (np.where((df.start<10), np.minimum(10-df.start,7), 0) + np.where((df.start>17), np.minimum(df.start-17,24), 0)), 0)",coef_maintenance_departure_constant_shift_for_every_30_minutes_before_7_30_am_linear
util_maintenance_departure_constant_shift_for_every_30_minutes_before_7_30_am_square_root,MAINTENANCE - Departure Constant: Shift for every 30 minutes before 07:30 am - Square Root,"@np.where(((df.tour_type == 'othmaint') & (df.start<10)), ((np.where((df.start<10), np.minimum(10-df.start,7), 0) + (np.where((df.start>17), np.minimum(df.start-17,24), 0)))** 0.5), 0)",coef_maintenance_departure_constant_shift_for_every_30_minutes_before_7_30_am_square_root
util_maintenance_departure_constant_before_8_am,MAINTENANCE - Departure Constant: Before 08:00 AM,@((df.tour_type == 'othmaint') & (df.start<11)),coef_maintenance_departure_constant_before_8_am
util_maintenance_departure_constant_8_am_to_8_30_am,MAINTENANCE - Departure Constant: 08:00 AM - 08:30 AM,@((df.tour_type == 'othmaint') & (df.start==11)),coef_maintenance_departure_constant_8_am_to_8_30_am
util_maintenance_departure_constant_8_30_am_to_9_00_am,MAINTENANCE - Departure Constant: 08:30 AM - 09:00 AM,@((df.tour_type == 'othmaint') & (df.start==12)),coef_maintenance_departure_constant_8_30_am_to_9_00_am
util_maintenance_departure_constant_9_am_to_9_30_am,MAINTENANCE - Departure Constant: 09:00 AM - 09:30 AM,@((df.tour_type == 'othmaint') & (df.start==13)),coef_maintenance_departure_constant_9_am_to_9_30_am
util_maintenance_departure_constant_9_30_am_to_10_am,MAINTENANCE - Departure Constant: 09:30 AM - 10:00 AM,@((df.tour_type == 'othmaint') & (df.start==14)),coef_maintenance_departure_constant_9_30_am_to_10_am
util_maintenance_departure_constant_10_am_to_10_30_am,MAINTENANCE - Departure Constant: 10:00 AM - 10:30 AM,@((df.tour_type == 'othmaint') & (df.start==15)),coef_maintenance_departure_constant_10_am_to_10_30_am
util_maintenance_departure_constant_10_30_am_to_11_am,MAINTENANCE - Departure Constant: 10:30 AM - 11:00 AM,@((df.tour_type == 'othmaint') & (df.start==16)),coef_maintenance_departure_constant_10_30_am_to_11_am
util_maintenance_departure_constant_after_11_am,MAINTENANCE - Departure Constant: After 11:00 AM,@((df.tour_type == 'othmaint') & (df.start>16)),coef_maintenance_departure_constant_after_11_am
util_maintenance_departure_constant_shift_for_every_30_minutes_after_11_30_am_linear,MAINTENANCE - Departure Constant: Shift for every 30 minutes after 11:30 am - Linear,"@np.where(((df.tour_type == 'othmaint') & (df.start>17)), np.where((df.start<10), np.minimum(10-df.start,7), 0) + np.where((df.start>17), np.minimum(df.start-17,24), 0), 0)",coef_maintenance_departure_constant_shift_for_every_30_minutes_after_11_30_am_linear
util_maintenance_departure_constant_shift_for_every_30_minutes_after_11_30_am_squared,MAINTENANCE - Departure Constant: Shift for every 30 minutes after 11:30 am - Squared,"@np.where(((df.tour_type == 'othmaint') & (df.start>17)), ((np.where((df.start<10), np.minimum(10-df.start,7), 0) + np.where((df.start>17), np.minimum(df.start-17,24), 0)) ** 2), 0)",coef_maintenance_departure_constant_shift_for_every_30_minutes_after_11_30_am_squared
util_maintenance_arrival_constant_shift_for_every_30_minutes_before_10_am_linear,MAINTENANCE - Arrival Constant: Shift for every 30 minutes before 10:00 am - Linear,"@np.where(((df.tour_type == 'othmaint') & (df.end<15)), (np.where((df.end<15), np.minimum(15-df.end,9), 0) + np.where((df.end>28), np.minimum(df.end-28,16), 0)), 0)",coef_maintenance_arrival_constant_shift_for_every_30_minutes_before_10_am_linear
util_maintenance_arrival_constant_before_10_30_am,MAINTENANCE - Arrival Constant: Before 10:30 AM,@((df.tour_type == 'othmaint') & (df.end<16)),coef_maintenance_arrival_constant_before_10_30_am
util_maintenance_arrival_constant_10_30_am_to_11_am,MAINTENANCE - Arrival Constant: 10:30 AM - 11:00 AM,@((df.tour_type == 'othmaint') & (df.end==16)),coef_maintenance_arrival_constant_10_30_am_to_11_am
util_maintenance_arrival_constant_11_am_to_11_30_am,MAINTENANCE - Arrival Constant: 11:00 AM - 11:30 AM,@((df.tour_type == 'othmaint') & (df.end==17)),coef_maintenance_arrival_constant_11_am_to_11_30_am
util_maintenance_arrival_constant_11_30_am_to_1_30_pm,MAINTENANCE - Arrival Constant: 11:30 AM - 01:30 PM,@((df.tour_type == 'othmaint') & (df.end>=18) & (df.end<=21)),coef_maintenance_arrival_constant_11_30_am_to_1_30_pm
util_maintenance_arrival_constant_1_30_pm_to_2_30_pm,MAINTENANCE - Arrival Constant: 01:30 PM - 02:30 PM,@((df.tour_type == 'othmaint') & (df.end>=22) & (df.end<=23)),coef_maintenance_arrival_constant_1_30_pm_to_2_30_pm
util_maintenance_arrival_constant_2_30_pm_to_4_pm,MAINTENANCE - Arrival Constant: 02:30 PM - 04:00 PM,@((df.tour_type == 'othmaint') & (df.end>=24) & (df.end<=26)),coef_maintenance_arrival_constant_2_30_pm_to_4_pm
util_maintenance_arrival_constant_4_pm_to_4_30_pm,MAINTENANCE - Arrival Constant: 04:00 PM - 04:30 PM,@((df.tour_type == 'othmaint') & (df.end==27)),coef_maintenance_arrival_constant_4_pm_to_4_30_pm
util_maintenance_arrival_constant_after_4_30_pm,MAINTENANCE - Arrival Constant: After 04:30 PM,@((df.tour_type == 'othmaint') & (df.end>27)),coef_maintenance_arrival_constant_after_4_30_pm
util_maintenance_arrival_constant_shift_for_every_30_minutes_after_5_pm_linear,MAINTENANCE - Arrival Constant: Shift for every 30 minutes after 5:00 pm - Linear,"@np.where(((df.tour_type == 'othmaint') & (df.end>28)), (np.where((df.end<15), np.minimum(15-df.end,9), 0) + np.where((df.end>28), np.minimum(df.end-28,16), 0)), 0)",coef_maintenance_arrival_constant_shift_for_every_30_minutes_after_5_pm_linear
util_maintenance_duration_constant_0_hr,MAINTENANCE - Duration Constant: 0 hr,@((df.tour_type == 'othmaint') & (df.duration==0)),coef_maintenance_duration_constant_0_hr
util_maintenance_duration_constant_30_minutes,MAINTENANCE - Duration Constant: 0.5 hr,@((df.tour_type == 'othmaint') & (df.duration==1)),coef_maintenance_duration_constant_30_minutes
util_maintenance_duration_constant_longer_than_30_minutes,MAINTENANCE - Duration Constant: Longer than 0.5 hr,@((df.tour_type == 'othmaint') & (df.duration>1)),coef_maintenance_duration_constant_longer_than_30_minutes
util_maintenance_duration_constant_duration_greater_than_1_hr_linear,MAINTENANCE - Duration Constant: Duration > 1 hr  - Linear,"@np.where(((df.tour_type == 'othmaint') & (df.duration>2)), (np.where((df.duration<0), np.minimum(0-df.duration,47), 0) + np.where((df.duration>2), np.minimum(df.duration-2,26), 0)), 0)",coef_maintenance_duration_constant_duration_greater_than_1_hr_linear
util_maintenance_duration_constant_duration_greater_than_1_hr_square_root,MAINTENANCE - Duration Constant: Duration > 1  hr  - Square Root,"@np.where(((df.tour_type == 'othmaint') & (df.duration>2)), ((np.where((df.duration<0), np.minimum(0-df.duration,47), 0) + np.where((df.duration>2), np.minimum(df.duration-2,26), 0))** 0.5), 0)",coef_maintenance_duration_constant_duration_greater_than_1_hr_square_root
util_maintenance_calibration_constant_duration_1,MAINTENANCE - Calibration Constant - Duration = 1,@((df.tour_type == 'othmaint') & (df.duration==0)),coef_maintenance_calibration_constant_duration_1
util_maintenance_calibration_constant_duration_2,MAINTENANCE - Calibration Constant - Duration = 2,@((df.tour_type == 'othmaint') & (df.duration==1)),coef_maintenance_calibration_constant_duration_2
util_maintenance_calibration_constant_duration_3,MAINTENANCE - Calibration Constant - Duration = 3,@((df.tour_type == 'othmaint') & (df.duration==2)),coef_maintenance_calibration_constant_duration_3
util_maintenance_calibration_constant_duration_4,MAINTENANCE - Calibration Constant - Duration = 4,@((df.tour_type == 'othmaint') & (df.duration==3)),coef_maintenance_calibration_constant_duration_4
util_maintenance_calibration_constant_duration_5,MAINTENANCE - Calibration Constant - Duration = 5,@((df.tour_type == 'othmaint') & (df.duration==4)),coef_maintenance_calibration_constant_duration_5
#EAT-OUT,#EAT-OUT,,#EAT-OUT
util_eatout_distance_to_destination_duration_less_than_1_hr,EAT-OUT - Distance to destination - Duration < 1 hr,"@np.where(((df.tour_type == 'eatout') & (df.duration<2)), (np.where((df.duration<=2), np.minimum(2-df.duration,47), 0) + np.where((df.duration>2), np.minimum(df.duration-2,14), 0)) * (df.origin_to_destination_distance), 0)",coef_eatout_distance_to_destination_duration_less_than_1_hr
util_eatout_distance_to_destination_duration_greater_than_1_hr,EAT-OUT - Distance to destination - Duration > 1 hr,"@np.where(((df.tour_type == 'eatout') & (df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,47), 0) + np.where((df.duration>2), np.minimum(df.duration-2,14), 0)) *(df.origin_to_destination_distance), 0)",coef_eatout_distance_to_destination_duration_greater_than_1_hr
util_eatout_low_income_duration_less_than_1_hr,EAT-OUT - Low income (<25000) - Duration < 1 hr,"@np.where(((df.tour_type == 'eatout') & (df.is_income_less25K) & (df.duration<2)), (np.where((df.duration<=2), np.minimum(2-df.duration,47), 0) + np.where((df.duration>2), np.minimum(df.duration-2,14), 0)), 0)",coef_eatout_low_income_duration_less_than_1_hr
util_eatout_medium_income_duration_less_than_1_hr,EAT-OUT - Medium (25k to 60k) - Duration < 1 hr,"@np.where(((df.tour_type == 'eatout') & (df.is_income_25K_to_60K) & (df.duration<2)), (np.where((df.duration<=2), np.minimum(2-df.duration,47), 0) + np.where((df.duration>2), np.minimum(df.duration-2,14), 0)), 0)",coef_eatout_medium_income_duration_less_than_1_hr
util_eatout_zeroauto_HH_duration_greater_than_1_hr,EAT-OUT - Zero auto HH - Duration > 1 hrs,"@np.where(((df.tour_type == 'eatout') & (df.auto_ownership == 0) & (df.duration>2)), (np.where((df.duration<=2), np.minimum(2-df.duration,47), 0) + np.where((df.duration>2), np.minimum(df.duration-2,14), 0)), 0)",coef_eatout_zeroauto_HH_duration_greater_than_1_hr
util_eatout_university_student_departure_after_7_pm_linear,EAT-OUT - University student - Departure after 7:00 pm - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type== 'eatout') & (df.start>32) & (df.ptype == 3)), (np.where((df.start<=32), np.minimum(32-df.start,29), 0) + np.where((df.start>32), np.minimum(df.start-32,8), 0)), 0)",coef_eatout_university_student_departure_after_7_pm_linear
util_eatout_female_duration_less_than_1_hr,EAT-OUT - Female - Duration < 1 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.duration<2) & (df.female)), (np.where((df.duration<=2), np.minimum(2-df.duration,47), 0) + np.where((df.duration>2), np.minimum(df.duration-2,14), 0)), 0)",coef_eatout_female_duration_less_than_1_hr
util_eatout_female_duration_greater_than_1_hr,EAT-OUT - Female - Duration > 1 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.duration>2) & (df.female)), (np.where((df.duration<=2), np.minimum(2-df.duration,47), 0) + np.where((df.duration>2), np.minimum(df.duration-2,14), 0)), 0)",coef_eatout_female_duration_greater_than_1_hr
util_eatout_time_pressure_departure_before_6_30_pm,EAT-OUT - Time Pressure - Departure before 6:30 pm,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start<32)), (np.minimum(32-df.start,29)) * (np.log10 (30 *(tt.remaining_periods_available(df.person_id, df.start, df.end)/(1.0 + df.tour_count - df.tour_num)))), 0)",coef_eatout_time_pressure_departure_before_6_30_pm
util_eatout_time_pressure_duration_less_than_1_hr,EAT-OUT - Time Pressure - Duration < 1 hrs,"@np.where(((df.tour_category != 'joint') & (df.tour_type== 'eatout') & (df.duration<2)), np.minimum(2-df.duration,47) * (np.log10 (30 * (tt.remaining_periods_available(df.person_id, df.start, df.end)/(1.0 + df.tour_count - df.tour_num)))), 0)",coef_eatout_time_pressure_duration_less_than_1_hr
util_eatout_departure_constant_7_30_am_to_9_am,EAT-OUT - Departure Constant: 07:30 AM - 09:00 AM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start>=10) & (df.start<=12)),coef_eatout_departure_constant_7_30_am_to_9_am
util_eatout_departure_constant_10_30_am_to_11_am,EAT-OUT - Departure Constant: 10:30 AM - 11:00 AM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start==16)),coef_eatout_departure_constant_10_30_am_to_11_am
util_eatout_departure_constant_11_am_to_11_30_am,EAT-OUT - Departure Constant: 11:00 AM - 11:30 AM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start==17)),coef_eatout_departure_constant_11_am_to_11_30_am
util_eatout_departure_constant_11_30_am_to_12_pm,EAT-OUT - Departure Constant: 11:30 AM - 12:00 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start==18)),coef_eatout_departure_constant_11_30_am_to_12_pm
util_eatout_departure_constant_12_pm_to_12_30_pm,EAT-OUT - Departure Constant: 12:00 PM - 12:30 PM,@((df.tour_category != 'joint') & (df.tour_type== 'eatout') & (df.start==19)),coef_eatout_departure_constant_12_pm_to_12_30_pm
util_eatout_departure_constant_12_30_pm_to_1_pm,EAT-OUT - Departure Constant: 12:30 PM - 01:00 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start==20)),coef_eatout_departure_constant_12_30_pm_to_1_pm
util_eatout_departure_constant_1_pm_to_1_30_pm,EAT-OUT - Departure Constant: 01:00 PM - 01:30 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start==21)),coef_eatout_departure_constant_1_pm_to_1_30_pm
util_eatout_departure_constant_shift_for_every_30_minutes_before_5_30_pm_linear,EAT-OUT - Departure Constant: Shift for every 30 minutes before 05:30 pm - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start<31)), (np.where((df.start<30), np.minimum(30-df.start,27), 0) + np.where((df.start>34), np.minimum(df.start-34,6), 0)), 0)",coef_eatout_departure_constant_shift_for_every_30_minutes_before_5_30_pm_linear
util_eatout_departure_constant_before_6_pm,EAT-OUT - Departure Constant: Before 06:00 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start<31)),coef_eatout_departure_constant_before_6_pm
util_eatout_departure_constant_6_pm_to_6_30_pm,EAT-OUT - Departure Constant: 06:00 PM - 06:30 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start==31)),coef_eatout_departure_constant_6_pm_to_6_30_pm
util_eatout_departure_constant_6_30_pm_to_7_pm,EAT-OUT - Departure Constant: 06:30 PM - 07:00 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start==32)),coef_eatout_departure_constant_6_30_pm_to_7_pm
util_eatout_departure_constant_7_pm_to_7_30_pm,EAT-OUT - Departure Constant: 07:00 PM - 07:30 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start==33)),coef_eatout_departure_constant_7_pm_to_7_30_pm
util_eatout_departure_constant_after_7_30_pm,EAT-OUT - Departure Constant: After 07:30 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start>33)),coef_eatout_departure_constant_after_7_30_pm
util_eatout_departure_constant_shift_for_every_30_minutes_after_8_pm_linear,EAT-OUT - Departure Constant: Shift for every 30 minutes after 08:00 pm - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.start>34)), (np.where((df.start<30), np.minimum(30-df.start,27), 0) + np.where((df.start>34), np.minimum(df.start-34,6), 0)), 0)",coef_eatout_departure_constant_shift_for_every_30_minutes_after_8_pm_linear
util_eatout_arrival_constant_9_30_am_to_11_am,EAT-OUT - Arrival Constant: 9:30 AM to 11:00 AM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end>=14) & (df.end<=16)),coef_eatout_arrival_constant_9_30_am_to_11_am
util_eatout_arrival_constant_12_30_pm_to_1_pm,EAT-OUT - Arrival Constant: 12:30 PM to 01:00 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end==20)),coef_eatout_arrival_constant_12_30_pm_to_1_pm
util_eatout_arrival_constant_1_pm_to_1_30_pm,EAT-OUT - Arrival Constant: 01:00 PM to 01:30 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end==21)),coef_eatout_arrival_constant_1_pm_to_1_30_pm
util_eatout_arrival_constant_1_30_pm_to_2_pm,EAT-OUT - Arrival Constant: 01:30 PM to 02:00 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end==22)),coef_eatout_arrival_constant_1_30_pm_to_2_pm
util_eatout_arrival_constant_2_pm_to_2_30_pm,EAT-OUT - Arrival Constant: 02:00 PM to 02:30 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end==23)),coef_eatout_arrival_constant_2_pm_to_2_30_pm
util_eatout_arrival_constant_2_30_pm_to_3_pm,EAT-OUT - Arrival Constant: 02:30 PM to 03:00 PM,@((df.tour_category != 'joint') & (df.tour_type== 'eatout') & (df.end==24)),coef_eatout_arrival_constant_2_30_pm_to_3_pm
util_eatout_arrival_constant_shift_for_every_30_minutes_before_6_pm_linear,EAT-OUT - Arrival Constant: Shift for every 30 minutes before 06:00 pm - Linear,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end<31)),coef_eatout_arrival_constant_shift_for_every_30_minutes_before_6_pm_linear
util_eatout_arrival_constant_before_6_30_pm,EAT-OUT - Arrival Constant: Before 6:30 PM,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end<32)), (np.where((df.end<31), np.minimum(31-df.end,24), 0) + np.where((df.end>37), np.minimum(df.end-37,48), 0)), 0)",coef_eatout_arrival_constant_before_6_30_pm
util_eatout_arrival_constant_6_30_pm_to_7_pm,EAT-OUT - Arrival Constant: 6:30 PM to 7:00 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end==32)),coef_eatout_arrival_constant_6_30_pm_to_7_pm
util_eatout_arrival_constant_7_pm_to_7_30_pm,EAT-OUT - Arrival Constant: 7:00 PM to 7:30 PM,@((df.tour_category != 'joint') & (df.tour_type== 'eatout') & (df.end==33)),coef_eatout_arrival_constant_7_pm_to_7_30_pm
util_eatout_arrival_constant_7_30_pm_to_8_pm,EAT-OUT - Arrival Constant: 7:30 PM to 8:00 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end==34)),coef_eatout_arrival_constant_7_30_pm_to_8_pm
util_eatout_arrival_constant_8_pm_to_8_30_pm,EAT-OUT - Arrival Constant: 8:00 PM to 8:30 PM,@((df.tour_category != 'joint') &(df.tour_type == 'eatout') & (df.end==35)),coef_eatout_arrival_constant_8_pm_to_8_30_pm
util_eatout_arrival_constant_8_30_pm_to_9_pm,EAT-OUT - Arrival Constant: 8:30 PM to 9:00 PM,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end==36)),coef_eatout_arrival_constant_8_30_pm_to_9_pm
util_eatout_arrival_constant_after_9_pm,EAT-OUT - Arrival Constant: After 9:00 PM,@((df.tour_category != 'joint')& (df.tour_type == 'eatout') & (df.end>36)),coef_eatout_arrival_constant_after_9_pm
util_eatout_arrival_constant_shift_for_every_30_minutes_after_9_30_pm_linear,EAT-OUT - Arrival Constant: Shift for every 30 minutes after 09:30 pm - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.end>37)), (np.where((df.end<31), np.minimum(31-df.end,24), 0) + np.where((df.end>37), np.minimum(df.end-37,48), 0)), 0)",coef_eatout_arrival_constant_shift_for_every_30_minutes_after_9_30_pm_linear
util_eatout_duration_constant_0_hour,EAT-OUT - Duration Constant: 0 hour,@((df.tour_category != 'joint') & (df.tour_type== 'eatout') & (df.duration==0)),coef_eatout_duration_constant_0_hour
util_eatout_duration_constant_30_minutes,EAT-OUT - Duration Constant: 0.5 hour,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.duration==1)),coef_eatout_duration_constant_30_minutes
util_eatout_duration_constant_1_hour,EAT-OUT - Duration Constant: 1 hour,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.duration==2)),coef_eatout_duration_constant_1_hour
util_eatout_duration_constant_1_hour_30_minutes,EAT-OUT - Duration Constant: 1.5 hours,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.duration==3)),coef_eatout_duration_constant_1_hour_30_minutes
util_eatout_duration_constant_2_hours,EAT-OUT - Duration Constant: 2 hours,@((df.tour_category != 'joint')& (df.tour_type == 'eatout') & (df.duration==4)),coef_eatout_duration_constant_2_hours
util_eatout_duration_constant_2_hour_30_minutes_or_more,EAT-OUT - Duration Constant: 2.5 hours or more,@((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.duration>4)),coef_eatout_duration_constant_2_hour_30_minutes_or_more
util_eatout_duration_constant_shift_for_every_30_minutes_more_than_3_hrs_linear,EAT-OUT - Duration Constant: Shift for every 30 minutes more than 3 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'eatout') & (df.duration>5)), (np.where((df.duration<0), np.minimum(0-df.duration,47), 0) + np.where((df.duration>5), np.minimum(df.duration-5,11), 0)), 0)",coef_eatout_duration_constant_shift_for_every_30_minutes_more_than_3_hrs_linear
util_eatout_calibration_constant_duration_1,EAT-OUT - Calibration Constant - Duration = 1,@((df.tour_type == 'eatout') & (df.duration==0)),coef_eatout_calibration_constant_duration_1
util_eatout_calibration_constant_duration_2,EAT-OUT - Calibration Constant - Duration = 2,@((df.tour_type == 'eatout') & (df.duration==1)),coef_eatout_calibration_constant_duration_2
util_eatout_calibration_constant_duration_3,EAT-OUT - Calibration Constant - Duration = 3,@((df.tour_type== 'eatout') & (df.duration==2)),coef_eatout_calibration_constant_duration_3
util_eatout_calibration_constant_duration_4,EAT-OUT - Calibration Constant - Duration = 4,@((df.tour_type == 'eatout') & (df.duration==3)),coef_eatout_calibration_constant_duration_4
util_eatout_calibration_constant_departure_1,EAT-OUT - Calibration Constant - Departure  = 1,@((df.tour_type == 'eatout') & (df.start == 1)),coef_eatout_calibration_constant_departure_1
util_eatout_calibration_constant_departure_2,EAT-OUT - Calibration Constant - Departure  = 2,@((df.tour_type == 'eatout') & (df.start == 2)),coef_eatout_calibration_constant_departure_2
util_eatout_calibration_constant_departure_3,EAT-OUT - Calibration Constant - Departure  = 3,@((df.tour_type== 'eatout') & (df.start == 3)),coef_eatout_calibration_constant_departure_3
util_eatout_calibration_constant_departure_17,EAT-OUT - Calibration Constant - Departure  = 17,@((df.tour_type == 'eatout') & (df.start ==17)),coef_eatout_calibration_constant_departure_17
util_eatout_calibration_constant_departure_18,EAT-OUT - Calibration Constant - Departure  = 18,@((df.tour_type== 'eatout') & (df.start ==18)),coef_eatout_calibration_constant_departure_18
util_eatout_calibration_constant_departure_19,EAT-OUT - Calibration Constant - Departure  = 19,@((df.tour_type == 'eatout') & (df.start ==19)),coef_eatout_calibration_constant_departure_19
util_eatout_calibration_constant_departure_20,EAT-OUT - Calibration Constant - Departure  = 20,@((df.tour_type == 'eatout') & (df.start ==20)),coef_eatout_calibration_constant_departure_20
util_eatout_calibration_constant_departure_21,EAT-OUT - Calibration Constant - Departure  = 21,@((df.tour_type == 'eatout') & (df.start ==21)),coef_eatout_calibration_constant_departure_21
#SOCIAL,#SOCIAL,,#SOCIAL
util_social_person_less_than_18_years_old_duration_less_than_1_hr_30_minutes_linear,SOCIAL - Person< 18 years old: Duration < 1.5 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration<3) & (df.age<18)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3),np.minimum(df.duration-3,47), 0)), 0)",coef_social_person_less_than_18_years_old_duration_less_than_1_hr_30_minutes_linear
util_social_person_less_than_18_years_old_duration_greater_than_1_hr_30_minutes_linear,SOCIAL - Person< 18 years old: Duration > 1.5 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration>3) & (df.age<18)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3),np.minimum(df.duration-3,47), 0)), 0)",coef_social_person_less_than_18_years_old_duration_greater_than_1_hr_30_minutes_linear
util_social_non_working_senior_or_retiree_duration_less_than_1_hr_30_minutes_linear,SOCIAL - Non-working senior/ retiree: Duration < 1.5 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration<3) & (df.ptype == 5)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_social_non_working_senior_or_retiree_duration_less_than_1_hr_30_minutes_linear
util_social_retiree_or_non_working_senior_only_HH_duration_less_than_1_hr_30_minutes_linear,SOCIAL - Retiree/ Non-working senior only HH: Duration < 1.5 hrs - Linear,"@np.where(((df.retired_adults_only_hh) & (df.tour_type == 'social') & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3),np.minimum(df.duration-3,47), 0)), 0)",coef_social_retiree_or_non_working_senior_only_HH_duration_less_than_1_hr_30_minutes_linear
util_social_zero_auto_households_duration_less_than_1_hr_30_minutes_linear,SOCIAL - Zero auto households: Duration < 1.5 hrs - Linear,"@np.where(((df.tour_type == 'social') & (df.auto_ownership == 0) & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3),np.minimum(df.duration-3,47), 0)), 0)",coef_social_zero_auto_households_duration_less_than_1_hr_30_minutes_linear
util_social_zero_auto_households_duration_greater_than_1_hr_30_minutes_linear,SOCIAL - Zero auto households: Duration > 1.5 hrs - Linear,"@np.where(((df.tour_type == 'social') & (df.auto_ownership == 0) & (df.duration>3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3),np.minimum(df.duration-3,47), 0)), 0)",coef_social_zero_auto_households_duration_greater_than_1_hr_30_minutes_linear
util_social_number_of_auto_more_than_number_of_adults_duration_less_than_1_hr_30_minutes_linear,SOCIAL - Number of auto more than number of adults: Duration < 1.5 hrs - Linear,"@np.where(((df.tour_type == 'social') & (df.auto_ownership > 0) &(df.auto_ownership > df.num_adults) & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_social_number_of_auto_more_than_number_of_adults_duration_less_than_1_hr_30_minutes_linear
util_social_number_of_auto_more_than_number_of_adults_duration_greater_than_1_hr_30_minutes_linear,SOCIAL - Number of auto more than number of adults: Duration > 1.5 hrs - Linear,"@np.where(((df.tour_type == 'social') & (df.auto_ownership > 0) & (df.auto_ownership > df.num_adults) & (df.duration>3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_social_number_of_auto_more_than_number_of_adults_duration_greater_than_1_hr_30_minutes_linear
"# In CTRAMP, although the description below says duration is less than 1 hr, expression is for less than 1.5 hr",,,
util_social_auto_distance_duration_less_than_1_hr_linear,SOCIAL - Auto Distance: Duration < 1 hr - Linear,"@np.where(((df.tour_type == 'social') & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3),np.minimum(df.duration-3,47), 0)), 0) * (df.origin_to_destination_distance)",coef_social_auto_distance_duration_less_than_1_hr_linear
util_social_auto_distance_duration_greater_than_1_hr_linear,SOCIAL - Auto Distance: Duration > 1 hr - Linear,"@np.where(((df.tour_type == 'social') & (df.duration>3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0) * (df.origin_to_destination_distance) ",coef_social_auto_distance_duration_greater_than_1_hr_linear
util_social_time_pressure_duration_less_than_1_hr,SOCIAL - Time Pressure - Duration < 1 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration<3)), np.minimum(3-df.duration,47), 0)* (np.log10 (30 * (tt.remaining_periods_available(df.person_id, df.start, df.end)/(1.0 + df.tour_count - df.tour_num))))",coef_social_time_pressure_duration_less_than_1_hr
util_social_time_pressure_duration_greater_than_1_hr,SOCIAL - Time Pressure - Duration > 1 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration>3)), np.minimum(df.duration-3,47), 0) * (np.log10 (30 * (tt.remaining_periods_available(df.person_id, df.start, df.end)/(1.0 + df.tour_count - df.tour_num))))",coef_social_time_pressure_duration_greater_than_1_hr
util_social_number_of_additional_individual_social_and_dicretionary_tours_duration_less_than_1_hr,SOCIAL - Number of additional individual social and dicretionary tours - Duration < 1 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3),np.minimum(df.duration-3,47), 0)) * (df.num_add_soc_discr_tours), 0)",coef_social_number_of_additional_individual_social_and_dicretionary_tours_duration_less_than_1_hr
util_social_departure_constant_shift_for_every_30_minutes_before_8_30_am_linear,SOCIAL - Departure Constant: Shift for every 30 minutes before 08:30 am - Linear,"@(df.tour_type == 'social') & (df.start<12) * ((np.minimum(12-df.start,48)*(df.start<48)) + (np.minimum(df.start-48,48)*(df.start>48)))",coef_social_departure_constant_shift_for_every_30_minutes_before_8_30_am_linear
util_social_departure_constant_before_9_am,SOCIAL - Departure Constant: Before 09:00 AM,@(df.tour_type == 'social') & (df.start<13),coef_social_departure_constant_before_9_am
util_social_departure_constant_9_am_to_9_30_am,SOCIAL - Departure Constant: 09:00 AM to 09:30 AM,@(df.tour_type == 'social') & (df.start==13),coef_social_departure_constant_9_am_to_9_30_am
util_social_departure_constant_shift_for_every_30_minutes_before_5_pm_linear,SOCIAL - Departure Constant: Shift for every 30 minutes before 05:00 pm - Linear,"@np.where((df.start<29), (np.where((df.start<29), np.minimum(29-df.start,8), 0) + np.where((df.start>34), np.minimum(df.start-34,6), 0)), 0)",coef_social_departure_constant_shift_for_every_30_minutes_before_5_pm_linear
util_social_departure_constant_before_5_30_pm,SOCIAL - Departure Constant: Before 05:30 PM,@((df.tour_type == 'social') & (df.start<30)),coef_social_departure_constant_before_5_30_pm
util_social_departure_constant_5_30_pm_to_6_pm,SOCIAL - Departure Constant: 05:30 PM - 06:00 PM,@((df.tour_type == 'social') & (df.start==30)),coef_social_departure_constant_5_30_pm_to_6_pm
util_social_departure_constant_6_pm_to_6_30_pm,SOCIAL - Departure Constant: 06:00 PM - 06:30 PM,@((df.tour_type == 'social') & (df.start==31)),coef_social_departure_constant_6_pm_to_6_30_pm
util_social_departure_constant_6_30_pm_to_7_pm,SOCIAL - Departure Constant: 06:30 PM - 07:00 PM,@((df.tour_type == 'social') & (df.start==32)),coef_social_departure_constant_6_30_pm_to_7_pm
util_social_departure_constant_7_pm_to_7_30_pm,SOCIAL - Departure Constant: 07:00 PM - 07:30 PM,@((df.tour_type == 'social') & (df.start==33)),coef_social_departure_constant_7_pm_to_7_30_pm
util_social_departure_constant_after_7_30_pm,SOCIAL - Departure Constant: After 07:30 PM,@((df.tour_type == 'social') & (df.start>33)),coef_social_departure_constant_after_7_30_pm
util_social_departure_constant_shift_for_every_30_minutes_after_8_pm_linear,SOCIAL - Departure Constant: Shift for every 30 minutes after 08:00 pm - Linear,"@np.where((df.start>34), (np.where((df.start<29), np.minimum(29-df.start,8), 0) + np.where((df.start>34), np.minimum(df.start-34,6), 0)), 0)",coef_social_departure_constant_shift_for_every_30_minutes_after_8_pm_linear
util_social_arrival_constant_3_pm_to_3_30_pm,SOCIAL - Arrival Constant: 03:00 PM to 03:30 PM,@((df.tour_type == 'social') & (df.end==25)),coef_social_arrival_constant_3_pm_to_3_30_pm
util_social_arrival_constant_3_30_pm_to_4_pm,SOCIAL - Arrival Constant: 03:30 PM to 04:00 PM,@((df.tour_type == 'social') & (df.end==26)),coef_social_arrival_constant_3_30_pm_to_4_pm
util_social_arrival_constant_4_pm_to_4_30_pm,SOCIAL - Arrival Constant: 04:00 PM to 04:30 PM,@((df.tour_type == 'social') & (df.end==27)),coef_social_arrival_constant_4_pm_to_4_30_pm
util_social_arrival_constant_5_pm_to_6_pm,SOCIAL - Arrival Constant: 05:00 PM to 06:00 PM,@((df.tour_type == 'social') & (df.end>=29) & (df.end<=30)),coef_social_arrival_constant_5_pm_to_6_pm
util_social_arrival_constant_shift_for_every_30_minutes_before_8_pm_linear,SOCIAL - Arrival Constant: Shift for every 30 minutes before 08:00 pm - Linear,"@np.where(((df.tour_type == 'social') & (df.end<35)), (np.where((df.end<35), np.minimum(35-df.end,48), 0) + np.where((df.end>40), np.minimum(df.end-40,48), 0)), 0)",coef_social_arrival_constant_shift_for_every_30_minutes_before_8_pm_linear
util_social_arrival_constant_before_8_30_pm,SOCIAL - Arrival Constant: Before 8:30 PM,@((df.tour_type == 'social') & (df.end<36)),coef_social_arrival_constant_before_8_30_pm
util_social_arrival_constant_8_30_pm_to_9_pm,SOCIAL - Arrival Constant: 8:30 PM to 9:00 PM,@((df.tour_type == 'social') & (df.end==36)),coef_social_arrival_constant_8_30_pm_to_9_pm
util_social_arrival_constant_9_pm_to_9_30_pm,SOCIAL - Arrival Constant: 9:00 PM to 9:30 PM,@((df.tour_type == 'social') & (df.end==37)),coef_social_arrival_constant_9_pm_to_9_30_pm
util_social_arrival_constant_9_30_pm_to_10_pm,SOCIAL - Arrival Constant: 9:30 PM to10:00 PM,@((df.tour_type == 'social') & (df.end==38)),coef_social_arrival_constant_9_30_pm_to_10_pm
util_social_arrival_constant_10_pm_to_10_30_pm,SOCIAL - Arrival Constant: 10:00 PM to 10:30 PM,@((df.tour_type == 'social') & (df.end==39)),coef_social_arrival_constant_10_pm_to_10_30_pm
util_social_arrival_constant_after_10_30_pm,SOCIAL - Arrival Constant: After 10:30 PM,@((df.tour_type == 'social') & (df.end>39)),coef_social_arrival_constant_after_10_30_pm
util_social_arrival_constant_shift_for_every_30_minutes_after_11_pm_linear,SOCIAL - Arrival Constant: Shift for every 30 minutes after 11:00 pm - Linear,"@np.where(((df.tour_type == 'social') & (df.end>40)), (np.where((df.end<35), np.minimum(35-df.end,48), 0) +np.where((df.end>40),np.minimum(df.end-40,48),0)), 0)",coef_social_arrival_constant_shift_for_every_30_minutes_after_11_pm_linear
util_social_duration_constant_shift_for_every_30_minutes_less_than_2_hr_30_minutes_linear,SOCIAL - Duration Constant: Shift for every 30 minutes less than 2.5 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration<5)), (np.where((df.duration<5), np.minimum(5-df.duration,47), 0) + np.where((df.duration>7), np.minimum(df.duration-7,47), 0)), 0)",coef_social_duration_constant_shift_for_every_30_minutes_less_than_2_hr_30_minutes_linear
util_social_duration_constant_less_than_3_hours,SOCIAL - Duration Constant: Less than 3 hrs,@((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration<6)),coef_social_duration_constant_less_than_3_hours
util_social_duration_constant_3_hours,SOCIAL - Duration Constant: 3 hours,@((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration==6)),coef_social_duration_constant_3_hours
util_social_duration_constant_3_hrs_30_minutes,SOCIAL - Duration Constant: 3.5 hours,@((df.tour_category != 'joint')& (df.tour_type == 'social') & (df.duration==7)),coef_social_duration_constant_3_hrs_30_minutes
util_social_duration_constant_4_hours_or_more,SOCIAL - Duration Constant: 4 hours or more,@((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration>7)),coef_social_duration_constant_4_hours_or_more
util_social_duration_constant_shift_for_every_30_minutes_more_than_4_hr_30_minutes_linear,SOCIAL - Duration Constant: Shift for every 30 minutes more than 4.5 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'social') & (df.duration>8)), (np.where((df.duration<5), np.minimum(5-df.duration,47), 0) + np.where((df.duration>8), np.minimum(df.duration-8,47), 0)), 0)",coef_social_duration_constant_shift_for_every_30_minutes_more_than_4_hr_30_minutes_linear
util_social_calibration_constant_duration_1,SOCIAL - Calibration Constant - Duration = 1,@((df.tour_type == 'social') & (df.duration ==0)),coef_social_calibration_constant_duration_1
util_social_calibration_constant_duration_2,SOCIAL - Calibration Constant - Duration = 2,@((df.tour_type == 'social') & (df.duration == 1)),coef_social_calibration_constant_duration_2
util_social_calibration_constant_duration_3,SOCIAL - Calibration Constant - Duration = 3,@((df.tour_type == 'social') & (df.duration ==2)),coef_social_calibration_constant_duration_3
util_social_calibration_constant_duration_4,SOCIAL - Calibration Constant - Duration = 4,@((df.tour_type == 'social') & (df.duration ==3)),coef_social_calibration_constant_duration_4
util_social_calibration_constant_duration_5,SOCIAL - Calibration Constant - Duration = 5,@((df.tour_type == 'social') & (df.duration ==4)),coef_social_calibration_constant_duration_5
util_social_calibration_constant_duration_6,SOCIAL - Calibration Constant - Duration = 6,@((df.tour_type == 'social') & (df.duration ==5)),coef_social_calibration_constant_duration_6
util_social_calibration_constant_duration_7,SOCIAL - Calibration Constant - Duration = 7,@((df.tour_type == 'social') & (df.duration ==6)),coef_social_calibration_constant_duration_7
util_social_calibration_constant_duration_8,SOCIAL - Calibration Constant - Duration = 8,@((df.tour_type == 'social') & (df.duration ==7)),coef_social_calibration_constant_duration_8
util_social_calibration_constant_duration_9,SOCIAL - Calibration Constant - Duration = 9,@((df.tour_type == 'social') & (df.duration ==8)),coef_social_calibration_constant_duration_9
#DISCRETIONARY,#DISCRETIONARY,,#DISCRETIONARY
util_discretionary_person_less_than_18_years_old_duration_less_than_1_hr_30_minutes_linear,DISCRETIONARY - Person< 18 years old: Duration < 1.5 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration<3) & (df.age<18)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_discretionary_person_less_than_18_years_old_duration_less_than_1_hr_30_minutes_linear
util_discretionary_person_less_than_18_years_old_duration_greater_than_1_hr_30_minutes_linear,DISCRETIONARY - Person< 18 years old: Duration > 1.5 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration>3) & (df.age<18)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_discretionary_person_less_than_18_years_old_duration_greater_than_1_hr_30_minutes_linear
util_discretionary_non_working_senior_retiree_duration_less_than_1_hr_30_minutes_linear,DISCRETIONARY - Non-working senior/ retiree: Duration < 1.5 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration<3) & (df.ptype == 5)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_discretionary_non_working_senior_retiree_duration_less_than_1_hr_30_minutes_linear
util_discretionary_retiree_non_working_senior_only_HH_duration_1_hr_30_minutes_linear,DISCRETIONARY - Retiree/ Non-working senior only HH: Duration < 1.5 hrs - Linear,"@np.where(((df.retired_adults_only_hh) & (df.tour_type == 'othdiscr') & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_discretionary_retiree_non_working_senior_only_HH_duration_1_hr_30_minutes_linear
util_discretionary_zero_auto_households_duration_less_than_1_hr_30_minutes_linear,DISCRETIONARY - Zero auto households: Duration < 1.5 hrs - Linear,"@np.where(((df.auto_ownership == 0) & (df.tour_type == 'othdiscr') & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_discretionary_zero_auto_households_duration_less_than_1_hr_30_minutes_linear
util_discretionary_zero_auto_households_duration_greater_than_1_hr_30_minutes_linear,DISCRETIONARY - Zero auto households: Duration > 1.5 hrs - Linear,"@np.where(((df.auto_ownership == 0) & (df.tour_type == 'othdiscr') & (df.duration>3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_discretionary_zero_auto_households_duration_greater_than_1_hr_30_minutes_linear
util_discretionary_number_of_auto_more_than_number_of_adults_duration_less_than_1_hr_30_minutes_linear,DISCRETIONARY - Number of auto more that number of adults: Duration < 1.5 hrs - Linear,"@np.where(((df.auto_ownership > 0) & (df.tour_type == 'othdiscr') & (df.auto_ownership > df.num_adults) & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)),0)",coef_discretionary_number_of_auto_more_than_number_of_adults_duration_less_than_1_hr_30_minutes_linear
util_discretionary_number_of_auto_more_than_number_of_adults_duration_greater_than_1_hr_30_minutes_linear,DISCRETIONARY - Number of auto more that number of adults: Duration > 1.5 hrs - Linear,"@np.where(((df.auto_ownership > 0) &(df.tour_type == 'othdiscr')&(df.auto_ownership > df.num_adults) & (df.duration>3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)), 0)",coef_discretionary_number_of_auto_more_than_number_of_adults_duration_greater_than_1_hr_30_minutes_linear
"# In CTRAMP, although the description below says duration is less than 1 hr, expression is for less than 1.5 hr",,,
util_discretionary_auto_distance_duration_less_than_1_hr_linear,DISCRETIONARY - Auto Distance: Duration < 1 hr - Linear,"@np.where(((df.tour_type == 'othdiscr') & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)) * (df.origin_to_destination_distance), 0)",coef_discretionary_auto_distance_duration_less_than_1_hr_linear
util_discretionary_auto_distance_duration_greater_than_1_hr_linear,DISCRETIONARY - Auto Distance: Duration > 1 hr - Linear,"@np.where(((df.tour_type == 'othdiscr') & (df.duration>3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0)) * (df.origin_to_destination_distance), 0)",coef_discretionary_auto_distance_duration_greater_than_1_hr_linear
util_discretionary_time_pressure_duration_less_than_1_hr,DISCRETIONARY - Time Pressure - Duration < 1 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration<3)), np.minimum(3-df.duration,47), 0) * (np.log10 (30 * (tt.remaining_periods_available(df.person_id, df.start, df.end)/(1.0 + df.tour_count - df.tour_num))))",coef_discretionary_time_pressure_duration_less_than_1_hr
util_discretionary_time_pressure_duration_greater_than_1_hr,DISCRETIONARY - Time Pressure - Duration > 1 hr,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration>3)), np.minimum(df.duration-3,47) * (np.log10 (30 * (tt.remaining_periods_available(df.person_id, df.start, df.end)/(1.0 + df.tour_count - df.tour_num)))), 0)",coef_discretionary_time_pressure_duration_greater_than_1_hr
util_discretionary_number_of_additional_individual_social_and_dicretionary_tours_duration_less_than_1_hr,DISCRETIONARY - Number of additional individual social and dicretionary tours - Duration < 1 hr,"@np.where(((df.tour_category != 'joint')&(df.tour_type == 'othdiscr') & (df.duration<3)), (np.where((df.duration<=3), np.minimum(3-df.duration,47), 0) + np.where((df.duration>3), np.minimum(df.duration-3,47), 0))*(df.num_add_soc_discr_tours),0)",coef_discretionary_number_of_additional_individual_social_and_dicretionary_tours_duration_less_than_1_hr
util_discretionary_departure_constant_shift_for_every_30_minutes_before_7_30_pm_linear,DISCRETIONARY - Departure Constant: Shift for every 30 minutes before 07:30 pm - Linear,"@np.where(((df.tour_type == 'othdiscr') & (df.start<9)), (np.where((df.start<9), np.minimum(9-df.start,48), 0) + np.where((df.start>48), np.minimum(df.start-48,48),0)), 0)",coef_discretionary_departure_constant_shift_for_every_30_minutes_before_7_30_pm_linear
util_discretionary_departure_constant_before_7_30_am,DISCRETIONARY - Departure Constant: Before 7:30 AM ,@((df.tour_type == 'othdiscr') & (df.start<10)),coef_discretionary_departure_constant_before_7_30_am
util_discretionary_departure_constant_7_30_am_to_8_am,DISCRETIONARY - Departure Constant: 7:30 AM to 8:00 AM,@((df.tour_type == 'othdiscr') & (df.start==10)),coef_discretionary_departure_constant_7_30_am_to_8_am
util_discretionary_departure_constant_8_am_to_8_30_am,DISCRETIONARY - Departure Constant: 8:00 AM to 8:30 AM,@((df.tour_type == 'othdiscr') & (df.start==11)),coef_discretionary_departure_constant_8_am_to_8_30_am
util_discretionary_departure_constant_8_30_am_to_9_am,DISCRETIONARY - Departure Constant: 8:30 AM to 9:00 AM,@((df.tour_type == 'othdiscr') & (df.start==12)),coef_discretionary_departure_constant_8_30_am_to_9_am
util_discretionary_departure_constant_9_am_to_9_30_am,DISCRETIONARY - Departure Constant: 9:00 AM to 9:30 AM,@((df.tour_type == 'othdiscr') & (df.start==13)),coef_discretionary_departure_constant_9_am_to_9_30_am
util_discretionary_departure_constant_9_30_am_to_10_am,DISCRETIONARY - Departure Constant: 9:30 AM to 10:00 AM,@((df.tour_type == 'othdiscr') & (df.start==14)),coef_discretionary_departure_constant_9_30_am_to_10_am
util_discretionary_departure_constant_10_am_to_10_30_am,DISCRETIONARY - Departure Constant: 10:00 AM to 10:30 AM,@((df.tour_type == 'othdiscr') & (df.start==15)),coef_discretionary_departure_constant_10_am_to_10_30_am
util_discretionary_departure_constant_shift_for_every_30_minutes_before_4_30_pm_linear,DISCRETIONARY - Departure Constant: Shift for every 30 minutes before 04:30 pm - Linear,"@np.where(((df.tour_type == 'othdiscr') & (df.start<28)), (np.where((df.start<28), np.minimum(28-df.start,8),0) + np.where((df.start>33), np.minimum(df.start-33,6), 0)), 0)",coef_discretionary_departure_constant_shift_for_every_30_minutes_before_4_30_pm_linear
util_discretionary_departure_constant_before_5_pm,DISCRETIONARY - Departure Constant: Before 05:00 PM,@((df.tour_type == 'othdiscr') & (df.start<29)),coef_discretionary_departure_constant_before_5_pm
util_discretionary_departure_constant_5_pm_to_5_30_pm,DISCRETIONARY - Departure Constant: 05:00 PM - 05:30 PM,@((df.tour_type == 'othdiscr') & (df.start==29)),coef_discretionary_departure_constant_5_pm_to_5_30_pm
util_discretionary_departure_constant_5_30_pm_to_6_pm,DISCRETIONARY - Departure Constant: 05:30 PM - 06:00 PM,@((df.tour_type == 'othdiscr') & (df.start==30)),coef_discretionary_departure_constant_5_30_pm_to_6_pm
util_discretionary_departure_constant_6_pm_to_6_30_pm,DISCRETIONARY - Departure Constant: 06:00 PM - 06:30 PM,@((df.tour_type == 'othdiscr') & (df.start==31)),coef_discretionary_departure_constant_6_pm_to_6_30_pm
util_discretionary_departure_constant_6_30_pm_to_7_pm,DISCRETIONARY - Departure Constant: 06:30 PM - 07:00 PM,@((df.tour_type == 'othdiscr') & (df.start==32)),coef_discretionary_departure_constant_6_30_pm_to_7_pm
util_discretionary_departure_constant_after_7_pm,DISCRETIONARY - Departure Constant: After 07:00 PM,@((df.tour_type == 'othdiscr') & (df.start>32)),coef_discretionary_departure_constant_after_7_pm
util_discretionary_departure_constant_shift_for_every_30_minutes_after_7_30_pm_linear,DISCRETIONARY - Departure Constant: Shift for every 30 minutes after 07:30 pm - Linear,"@np.where(((df.tour_type == 'othdiscr') & (df.start>33)), (np.where((df.start<28), np.minimum(28-df.start,8), 0) + np.where((df.start>33), np.minimum(df.start-33,6), 0)), 0)",coef_discretionary_departure_constant_shift_for_every_30_minutes_after_7_30_pm_linear
util_discretionary_arrival_constant_shift_for_every_30_minutes_before_6_pm_linear,DISCRETIONARY - Arrival Constant: Shift for every 30 minutes before 06:00 pm - Linear,"@np.where(((df.tour_type == 'othdiscr') & (df.end<31)), (np.where((df.end<31), np.minimum(31-df.end,48), 0) + np.where((df.end>37), np.minimum(df.end-37,48), 0)), 0)",coef_discretionary_arrival_constant_shift_for_every_30_minutes_before_6_pm_linear
util_discretionary_arrival_constant_before_6_30_pm,DISCRETIONARY - Arrival Constant: Before 6:30 PM,@((df.tour_type == 'othdiscr') & (df.end<32)),coef_discretionary_arrival_constant_before_6_30_pm
util_discretionary_arrival_constant_6_30_pm_to_7_pm,DISCRETIONARY - Arrival Constant: 6:30 PM to 7:00 PM,@((df.tour_type == 'othdiscr') & (df.end==32)),coef_discretionary_arrival_constant_6_30_pm_to_7_pm
util_discretionary_arrival_constant_7_pm_to_7_30_pm,DISCRETIONARY - Arrival Constant: 7:00 PM to 7:30 PM,@((df.tour_type == 'othdiscr') & (df.end==33)),coef_discretionary_arrival_constant_7_pm_to_7_30_pm
util_discretionary_arrival_constant_7_30_pm_to_8_pm,DISCRETIONARY - Arrival Constant: 7:30 PM to 8:00 PM,@((df.tour_type == 'othdiscr') & (df.end==34)),coef_discretionary_arrival_constant_7_30_pm_to_8_pm
util_discretionary_arrival_constant_8_pm_to_8_30_pm,DISCRETIONARY - Arrival Constant: 8:00 PM to 8:30 PM,@((df.tour_type == 'othdiscr') & (df.end==35)),coef_discretionary_arrival_constant_8_pm_to_8_30_pm
util_discretionary_arrival_constant_8_30_pm_to_9_pm,DISCRETIONARY - Arrival Constant: 8:30 PM to 9:00 PM,@((df.tour_type == 'othdiscr') & (df.end==36)),coef_discretionary_arrival_constant_8_30_pm_to_9_pm
util_discretionary_arrival_constant_after_9_pm,DISCRETIONARY - Arrival Constant: After 9:00 PM,@((df.tour_type == 'othdiscr') & (df.end>36)),coef_discretionary_arrival_constant_after_9_pm
util_discretionary_arrival_constant_shift_for_every_30_minutes_after_9_30_pm_linear,DISCRETIONARY - Arrival Constant: Shift for every 30 minutes after 09:30 pm - Linear,"@np.where(((df.tour_type == 'othdiscr') & (df.end>37)), (np.where((df.end<31), np.minimum(31-df.end,48), 0) + np.where((df.end>37), np.minimum(df.end-37,48),0)), 0)",coef_discretionary_arrival_constant_shift_for_every_30_minutes_after_9_30_pm_linear
util_discretionary_duration_constant_0_hour,DISCRETIONARY - Duration Constant: 0 hour,@((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration==0)),coef_discretionary_duration_constant_0_hour
util_discretionary_duration_constant_30_minutes,DISCRETIONARY -Duration Constant: 0.5 hour,@((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration==1)),coef_discretionary_duration_constant_30_minutes
util_discretionary_duration_constant_1_hour,DISCRETIONARY -Duration Constant: 1 hour,@((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration==2)),coef_discretionary_duration_constant_1_hour
util_discretionary_duration_constant_1_hr_30_minutes,DISCRETIONARY -Duration Constant: 1.5 hours,@((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration==3)),coef_discretionary_duration_constant_1_hr_30_minutes
util_discretionary_duration_constant_2_hours,DISCRETIONARY -Duration Constant: 2 hours,@((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration==4)),coef_discretionary_duration_constant_2_hours
util_discretionary_duration_constant_2_hr_30_minutes,DISCRETIONARY -Duration Constant: 2.5 hours,@((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration==5)),coef_discretionary_duration_constant_2_hr_30_minutes
util_discretionary_duration_constant_3_hours_or_more,DISCRETIONARY -Duration Constant: 3 hours or more,@((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration>5)),coef_discretionary_duration_constant_3_hours_or_more
util_discretionary_duration_constant_shift_for_every_30_minutes_more_than_3_hrs_linear,DISCRETIONARY -Duration Constant: Shift for every 30 minutes more than 3 hrs - Linear,"@np.where(((df.tour_category != 'joint') & (df.tour_type == 'othdiscr') & (df.duration>6)), (np.where((df.duration<0), np.minimum(0-df.duration,47), 0) + np.where((df.duration>6), np.minimum(df.duration-6,47), 0)), 0)",coef_discretionary_duration_constant_shift_for_every_30_minutes_more_than_3_hrs_linear
util_discretionary_calibration_constant_duration_4,DISCRETIONARY -Calibration Constant - Duration = 4,@((df.tour_type == 'othdiscr') & (df.duration==3)),coef_discretionary_calibration_constant_duration_4
util_discretionary_calibration_constant_duration_5,DISCRETIONARY -Calibration Constant - Duration = 5,@((df.tour_type == 'othdiscr') & (df.duration==4)),coef_discretionary_calibration_constant_duration_5
util_discretionary_calibration_constant_departure_29,DISCRETIONARY -Calibration Constant - Departure = 29,@((df.tour_type == 'othdiscr') & (df.start==29)),coef_discretionary_calibration_constant_departure_29
util_discretionary_calibration_constant_departure_30,DISCRETIONARY -Calibration Constant - Departure = 30,@((df.tour_type == 'othdiscr') & (df.start==30)),coef_discretionary_calibration_constant_departure_30
util_discretionary_calibration_constant_departure_31,DISCRETIONARY -Calibration Constant - Departure = 31,@((df.tour_type == 'othdiscr') & (df.start==31)),coef_discretionary_calibration_constant_departure_31
util_discretionary_calibration_constant_departure_32,DISCRETIONARY -Calibration Constant - Departure = 32,@((df.tour_type == 'othdiscr') & (df.start==32)),coef_discretionary_calibration_constant_departure_32
