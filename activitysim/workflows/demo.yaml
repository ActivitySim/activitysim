context_parser: pypyr.parser.keyvaluepairs
steps:

- description: Default to testing example_mtc if no other example is named
  name: pypyr.steps.default
  in:
    defaults:
      example_name: example_mtc
      workspace: workspace
      legacy: True
      tag:

- description: Make {workspace} directory if it does not exist
  name: pypyr.steps.py
  in:
    py: |
      import os
      os.makedirs(f"{workspace}", exist_ok=True)

- description: Generate a tag based on datetime if tag is not given
  name: pypyr.steps.py
  in:
    py: |
      import time
      if tag is None:
        tag = time.strftime("%Y-%m-%d-%H%M%S")
      save(tag=tag)
      print(f"tag is {tag}")

