
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Model Setup &#8212; ActivitySim</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=86d88d25" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=937cc8a8"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'users-guide/modelsetup';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.2';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://activitysim.github.io/activitysim/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '1.3.0';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ways to Run the Model" href="ways_to_run.html" />
    <link rel="prev" title="Users Guide" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="May 02, 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">ActivitySim</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Users Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev-guide/index.html">
                        Developers
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        Users Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev-guide/index.html">
                        Developers
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-3"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-3"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-3"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-3">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Model Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="ways_to_run.html">Ways to Run the Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="run_primary_example.html">Run the Primary Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_anatomy.html">Anatomy of a Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howitworks.html">How the System Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="model_dev.html">Model Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="example_models.html">Example Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_examples.html">Other Example Models</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Users Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Model Setup</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="model-setup">
<h1>Model Setup<a class="headerlink" href="#model-setup" title="Link to this heading">#</a></h1>
<p>This page describes the system requirements and installation procedures to set up ActivitySim.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ActivitySim is under active development</p>
</div>
<section id="quick-reference">
<h2>Quick Reference<a class="headerlink" href="#quick-reference" title="Link to this heading">#</a></h2>
<p>This section briefly describes the quickest way to install and start running ActivitySim. This section
assumes the user is more experienced in running travel demand models and proficient in Python, but has not
used ActivitySim or has not used recent versions of ActivitySim. More detailed instructions for installing
and running ActivitySim are also available in this Users Guide.</p>
<ul class="simple">
<li><p>Use the <a class="reference internal" href="#pre-packaged-installer"><span class="std std-ref">Pre-packaged Installer</span></a></p></li>
<li><p><a class="reference internal" href="run_primary_example.html#run-the-primary-example"><span class="std std-ref">Run the Primary Example</span></a></p></li>
<li><p>Placeholder (Edit model input files, configs, as needed)</p></li>
</ul>
</section>
<section id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Link to this heading">#</a></h2>
<p>This section highlights the software requirements for any implementation, as well as hardware recommendations.</p>
<section id="hardware">
<h3>Hardware<a class="headerlink" href="#hardware" title="Link to this heading">#</a></h3>
<p>The computing hardware required to run a model implemented in the ActivitySim framework generally depends on:</p>
<ul class="simple">
<li><dl class="simple">
<dt>The number of households to be simulated for disaggregate model steps</dt><dd><ul>
<li><p>In addition to the total number of households in the model region, runtime and hardware requirements can be reduced by sampling a subset of the households. The user can adjust the sampling rate for a particular run (see Settings.yaml).</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>The number of model zones (for each zone system) for aggregate model steps</p></li>
<li><p>The number and size of network skims by mode and time-of-day</p></li>
<li><p>The number of zone systems, see <a class="reference internal" href="model_anatomy.html#zone-system"><span class="std std-ref">Zone System</span></a></p></li>
<li><p>The desired runtimes</p></li>
</ul>
<p>ActivitySim framework models use a significant amount of RAM since they store data in-memory to reduce
data access time in order to minimize runtime.</p>
<p>For example, the SEMCOG ABM, a model that follows a 2-Zone system runs on a windows machine, with the minimum and recommended system specification as follows:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Minimum Specification:</dt><dd><ul>
<li><p>Operating System: 64-bit Windows 7, 64-bit Windows 8 (8.1) or 64-bit Windows 10</p></li>
<li><p>Processor: 8-core CPU processor</p></li>
<li><p>Memory: 128 GB RAM</p></li>
<li><p>Disk space: 150 GB</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Recommended Specification:</dt><dd><ul>
<li><p>Operating System: 64-bit Windows 7, 64-bit Windows 8 (8.1), 64-bit Windows 10, or 64-bit Windows 11</p></li>
<li><p>Processor: Intel CPU Xeon Gold / AMD CPU Threadripper Pro (12+ cores)</p></li>
<li><p>Memory: 256 GB RAM</p></li>
<li><p>Disk space: 150 GB</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>As another example, the prototype MTC example model - which has 2.7 million households, 7.5 million people, 1475 zones, 826 network skims - has a runtime between one hour and one day depending on the amount of RAM and number of processors allocated.</p>
<p>ActivitySim has features that makes it possible to customize model runs or improve model runtimes based on the available hardware resources and requirements. A few ways to do this are listed below:</p>
<ul class="simple">
<li><p><a class="reference internal" href="ways_to_run.html#chunking-ways-to-run"><span class="std std-ref">Chunking</span></a> allows the user to run eligible steps in parallel. This can be turned on/off.</p></li>
<li><p><a class="reference internal" href="ways_to_run.html#multi-proc-ways-to-run"><span class="std std-ref">Multiprocessing</span></a> allows the user to segment processing into discrete sets of data. This will increase the runtime but allow for lower RAM requirements. This feature can also be turned on/off.</p></li>
<li><p><a class="reference internal" href="ways_to_run.html#sharrow-ways-to-run"><span class="std std-ref">Sharrow</span></a> is a Python library designed to decrease run-time for ActivitySim models by creating an optimized compiled version of the model. This can also be turned on/off.</p></li>
<li><p><a class="reference internal" href="ways_to_run.html#tracing-ways-to-run"><span class="std std-ref">Tracing</span></a> allows the user to access information throughout the model run for a specified number of households/persons/zones. Enabling this feature will increase run-time and memory usage. It is recommended that this feature be turned off for typical model application.</p></li>
<li><dl class="simple">
<dt>Optimization of data types including:</dt><dd><ul>
<li><p>Converting string variables to pandas categoricals. ActivitySim releases <em>&lt;placeholder for version number&gt;</em> and higher have this capability.</p></li>
<li><p>Converting higher byte integer variables to lower byte integer variables (such as reducing ‘num tours’ from int64 to int8).</p></li>
<li><p>Converting higher byte float variables to lower bytes. ActivitySim releases X.X.X and higher have this capability as a switch and defaults to turning this feature off.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Steps for enabling/disabling these options are included in the <a class="reference internal" href="ways_to_run.html#advanced-configuration"><span class="std std-ref">Advanced Configuration</span></a> sub-section, under <a class="reference internal" href="ways_to_run.html#ways-to-run-the-model"><span class="std std-ref">Ways to Run the Model</span></a> page of this Users’ Guide.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In general, more CPU cores and RAM will result in faster run times.
ActivitySim has also been run in the cloud, on both Windows and Linux using
<a class="reference external" href="https://azure.microsoft.com/en-us/">Microsoft Azure</a>.  Example configurations,
scripts, and runtimes are in the &lt;todo: cross-ref&gt; <code class="docutils literal notranslate"><span class="pre">other_resources\example_azure</span></code> folder.</p>
</div>
</section>
<section id="software">
<h3>Software<a class="headerlink" href="#software" title="Link to this heading">#</a></h3>
<p>Activitysim is implemented in the Python programming language. It also uses several open source Python packages such as pandas, numpy, pytables, openmatrix etc. Hence it is recommended that you install and use a <em>conda</em> package manager for your system.
One easy way to do so is by using
<a class="reference external" href="https://github.com/conda-forge/miniforge#mambaforge">Mambaforge</a>.
Mamba is a free open source cross-platform package manager that runs on
Windows, OS X and Linux and is fully compatible with conda packages.  It is
also usually substantially faster than conda itself. Instructions to install mambaforge can be found <a class="reference external" href="https://mamba.readthedocs.io/en/latest/mamba-installation.html#mamba-install">here</a>. Installers for different Operating Systems can be found <a class="reference external" href="https://github.com/conda-forge/miniforge#miniforge3">here</a>.</p>
<p>Alternatively, if you prefer a package installer backed by corporate tech
support available (for a fee) as necessary, you can install
<a class="reference external" href="https://www.anaconda.com/distribution/">Anaconda 64bit Python 3</a>,
although you should consult the <a class="reference external" href="https://www.anaconda.com/terms-of-service">terms of service</a>
for this product and ensure you qualify since businesses and
governments with over 200 employees do not qualify for free usage.
If you’re using <cite>conda</cite> instead of <cite>mamba</cite>, just replace every call to
<cite>mamba</cite> below with <cite>conda</cite>, as they share the same user interface and most
command formats.</p>
<p>If you access the internet from behind a firewall, then you may need to
configure your proxy server. To do so, create a <cite>.condarc</cite> file in your
home installation folder, such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">proxy_servers</span><span class="p">:</span>
  <span class="n">http</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">myproxy</span><span class="o">.</span><span class="n">org</span><span class="p">:</span><span class="mi">8080</span>
  <span class="n">https</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">myproxy</span><span class="o">.</span><span class="n">org</span><span class="p">:</span><span class="mi">8080</span>
<span class="n">ssl_verify</span><span class="p">:</span> <span class="n">false</span>
</pre></div>
</div>
</section>
</section>
<section id="installing-activitysim">
<h2>Installing ActivitySim<a class="headerlink" href="#installing-activitysim" title="Link to this heading">#</a></h2>
<p>There are multiple ways to install the ActivitySim codebase:</p>
<ol class="arabic simple">
<li><p>Using a <a class="reference internal" href="#pre-packaged-installer"><span class="std std-ref">Pre-packaged Installer</span></a> (recommended for users who do not need to change the Python code)</p></li>
<li><p>Using a <a class="reference internal" href="#using-mamba-package-manager"><span class="std std-ref">Python package manager like mamba</span></a> (recommended for users who need to change/customize the Python code)</p></li>
<li><p>Using <a class="reference internal" href="#using-pip-python-s-standard-package-manager"><span class="std std-ref">pip - Python’s standard package manager</span></a></p></li>
</ol>
<section id="pre-packaged-installer">
<h3>Pre-packaged Installer<a class="headerlink" href="#pre-packaged-installer" title="Link to this heading">#</a></h3>
<p>Begining with version 1.2, ActivitySim is now available for Windows via a
pre-packaged installer.  This installer provides everything you need to run
ActivitySim, including Python, all the necessary supporting packages, and
ActivitySim itself.  You should only choose this installation process if you
plan to use ActivitySim but you don’t need or want to do other Python
development.  Note this installer is provided as an “executable” which (of course)
installs a variety of things on your system, and it is quite likely to be flagged by
Windows, anti-virus, or institutional IT policies as “unusual” software, which
may require special treatment to actually install and use.</p>
<p>Download the installer from GitHub <a class="reference external" href="https://github.com/ActivitySim/activitysim/releases/download/v1.2.0/Activitysim-1.2.0-Windows-x86_64.exe">here</a>.
It is strongly recommended to choose the option to install “for me only”, as this
should not require administrator privileges on your machine.  Pay attention
to the <em>complete path</em> of the installation location. You will need to know
that path to run ActivitySim in the future, as the installer does not modify
your “PATH” and the location of the <cite>ActivitySim.exe</cite> command line tool will not
be available without knowing the path to where the install has happened.</p>
<p>Once the install is complete, ActivitySim can be run directly from any command
prompt by running <cite>&lt;install_location&gt;/Scripts/ActivitySim.exe</cite>.</p>
</section>
<section id="using-mamba-package-manager">
<h3>Using <em>mamba</em> package manager<a class="headerlink" href="#using-mamba-package-manager" title="Link to this heading">#</a></h3>
<p>This method is recommended for ActivitySim users who also wish to customize the Python code to run their models. The steps involved are described as follows:</p>
<ol class="arabic simple">
<li><p>Install the <em>mamba</em> package manager as described in the <a class="reference internal" href="#software"><span class="std std-ref">Software Requirements</span></a> subsection.</p></li>
</ol>
<p>2. Create a conda environment (basically a Python install just for this project)
using mambaforge prompt or conda prompt depending on the package manager you use (on Windows) or the terminal (macOS or Linux):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mamba</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">asim</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.9</span> <span class="n">activitysim</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">--</span><span class="n">override</span><span class="o">-</span><span class="n">channels</span>
</pre></div>
</div>
<p>This command will create the environment and install all the dependencies
required for running ActivitySim.  It is only necessary to create the environment
once per machine, you do not need to (re)create the environment for each session.
If you would also like to install other tools or optional dependencies, it is
possible to do so by adding additional libraries to this command.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mamba</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">asim</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.9</span> <span class="n">activitysim</span> <span class="n">jupyterlab</span> <span class="n">larch</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">--</span><span class="n">override</span><span class="o">-</span><span class="n">channels</span>
</pre></div>
</div>
<p>This example installs a specific version of Python, version 3.9.  A similar
approach can be used to install specific versions of other libraries as well,
including ActivitySim, itself. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mamba</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">asim</span> <span class="n">python</span><span class="o">=</span><span class="mf">3.9</span> <span class="n">activitysim</span><span class="o">=</span><span class="mf">1.0.2</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">--</span><span class="n">override</span><span class="o">-</span><span class="n">channels</span>
</pre></div>
</div>
<p>Additional libraries can also be installed later.  You may want to consider these
tools for certain development tasks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># packages for testing</span>
<span class="n">mamba</span> <span class="n">install</span> <span class="n">pytest</span> <span class="n">pytest</span><span class="o">-</span><span class="n">cov</span> <span class="n">coveralls</span> <span class="n">black</span> <span class="n">flake8</span> <span class="n">pytest</span><span class="o">-</span><span class="n">regressions</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">--</span><span class="n">override</span><span class="o">-</span><span class="n">channels</span> <span class="o">-</span><span class="n">n</span> <span class="n">asim</span>

<span class="c1"># packages for building documentation</span>
<span class="n">mamba</span> <span class="n">install</span> <span class="n">sphinx</span> <span class="n">numpydoc</span> <span class="n">sphinx_rtd_theme</span><span class="o">==</span><span class="mf">0.5.2</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">--</span><span class="n">override</span><span class="o">-</span><span class="n">channels</span> <span class="o">-</span><span class="n">n</span> <span class="n">asim</span>

<span class="c1"># packages for estimation integration</span>
<span class="n">mamba</span> <span class="n">install</span> <span class="n">larch</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">--</span><span class="n">override</span><span class="o">-</span><span class="n">channels</span> <span class="o">-</span><span class="n">n</span> <span class="n">asim</span>

<span class="c1"># packages for example notebooks</span>
<span class="n">mamba</span> <span class="n">install</span> <span class="n">jupyterlab</span> <span class="n">matplotlib</span> <span class="n">geopandas</span> <span class="n">descartes</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="o">--</span><span class="n">override</span><span class="o">-</span><span class="n">channels</span> <span class="o">-</span><span class="n">n</span> <span class="n">asim</span>
</pre></div>
</div>
<p>To create an environment containing all these optional dependencies at once, you
can run the shortcut command</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mamba</span> <span class="n">env</span> <span class="n">create</span> <span class="n">activitysim</span><span class="o">/</span><span class="n">ASIM</span> <span class="o">-</span><span class="n">n</span> <span class="n">asim</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>To use the <strong>asim</strong> environment, you need to activate it</p></li>
</ol>
<dl class="simple">
<dt>::</dt><dd><p>conda activate asim</p>
</dd>
</dl>
<p>The activation of the correct environment needs to be done every time you
start a new session (e.g. opening a new conda Prompt window).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <em>activate</em> and <em>deactivate</em> commands to start and stop using environments
are called as <cite>conda</cite> even if you are otherwise using <cite>mamba</cite>. mamba is a drop-in replacement and uses the same commands and configuration options as conda.
You can swap almost all commands between conda &amp; mamba. For more details, refer to <a class="reference external" href="https://mamba.readthedocs.io/en/latest/user_guide/mamba.html">the mamba user guide</a>.</p>
</div>
</section>
<section id="using-pip-python-s-standard-package-manager">
<h3>Using <em>pip</em> - Python’s standard package manager<a class="headerlink" href="#using-pip-python-s-standard-package-manager" title="Link to this heading">#</a></h3>
<p>If you prefer to install ActivitySim without a package manager like <em>mamba</em> or <em>conda</em>, it is possible to
do so with pip, although you may find it more difficult to get all of the
required dependencies installed correctly.  If you can use conda for
the dependencies, you can get most of the libraries you need from there:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># required packages for running ActivitySim</span>
<span class="n">mamba</span> <span class="n">install</span> <span class="n">cytoolz</span> <span class="n">numpy</span> <span class="n">pandas</span> <span class="n">psutil</span> <span class="n">pyarrow</span> <span class="n">numba</span> <span class="n">pytables</span> <span class="n">pyyaml</span> <span class="n">openmatrix</span> <span class="n">requests</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span>

<span class="c1"># required for ActivitySim version 1.0.1 and earlier</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">zbox</span>
</pre></div>
</div>
<p>And then simply install activitysim with pip.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">activitysim</span>
</pre></div>
</div>
<p>If you are using a firewall you may need to add <code class="docutils literal notranslate"><span class="pre">--trusted-host</span> <span class="pre">pypi.python.org</span> <span class="pre">--proxy=myproxy.org:8080</span></code> to this command.</p>
<p>For development work, can also install ActivitySim directly from source. Clone
the ActivitySim repository, and then from within that directory run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">.</span> <span class="o">-</span><span class="n">e</span>
</pre></div>
</div>
<p>The “-e” will install in editable mode, so any changes you make to the ActivitySim
code will also be reflected in your installation.</p>
<p>Installing from source is easier if you have all the necessary dependencies already
installed in a development conda environment.  Developers can create an
environment that has all the optional dependencies preinstalled by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mamba</span> <span class="n">env</span> <span class="n">create</span> <span class="n">activitysim</span><span class="o">/</span><span class="n">ASIM</span><span class="o">-</span><span class="n">DEV</span>
</pre></div>
</div>
<p>If you prefer to use a different environment name than <cite>ASIM-DEV</cite>, just
append <cite>–name OTHERNAME</cite> to the command. Then all that’s left to do is install
ActivitySim itself in editable mode as described above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ActivitySim is a 64bit Python 3 library that uses a number of packages from the
scientific Python ecosystem, most notably <a class="reference external" href="http://pandas.pydata.org">pandas</a>
and <a class="reference external" href="http://numpy.org">numpy</a>.</p>
<p>As mentioned above, the recommended way to get your own scientific Python installation is to
install 64 bit Anaconda, which contains many of the libraries upon which
ActivitySim depends + some handy Python installation management tools.</p>
<p>Anaconda includes the <code class="docutils literal notranslate"><span class="pre">conda</span></code> command line tool, which does a number of useful
things, including creating <a class="reference external" href="http://conda.pydata.org/docs/using/envs.html">environments</a>
(i.e. stand-alone Python installations/instances/sandboxes) that are the recommended
way to work with multiple versions of Python on one machine.  Using conda
environments keeps multiple Python setups from conflicting with one another.</p>
<p>You need to activate the activitysim environment each time you start a new command
session.  You can remove an environment with <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">remove</span> <span class="pre">-n</span> <span class="pre">asim</span> <span class="pre">--all</span></code> and
check the current active environment with <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">info</span> <span class="pre">-e</span></code>.</p>
<p>For more information on Anaconda, see Anaconda’s <a class="reference external" href="https://docs.anaconda.com/anaconda/user-guide/getting-started">getting started</a> guide.</p>
</div>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Users Guide</p>
      </div>
    </a>
    <a class="right-next"
       href="ways_to_run.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Ways to Run the Model</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-reference">Quick Reference</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#system-requirements">System Requirements</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hardware">Hardware</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#software">Software</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installing-activitysim">Installing ActivitySim</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-packaged-installer">Pre-packaged Installer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-mamba-package-manager">Using <em>mamba</em> package manager</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-pip-python-s-standard-package-manager">Using <em>pip</em> - Python’s standard package manager</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/users-guide/modelsetup.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><!-- This will display the version of the docs -->
<p class="last-updated">
ActivitySim 1.3.0b3.dev5+ge309b849, documentation last updated May 02, 2024.<br/>
</p></div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>