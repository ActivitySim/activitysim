

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ActivitySim &mdash; ActivitySim 0.3dev1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="ActivitySim 0.3dev1 documentation" href="#"/>
        <link rel="next" title="Getting Started" href="gettingstarted.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> ActivitySim
          

          
          </a>

          
            
            
              <div class="version">
                0.3dev1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="howitworks.html">How the System Works</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataschema.html">Data Schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="core.html">Core Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">ActivitySim</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>ActivitySim</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="activitysim">
<h1>ActivitySim<a class="headerlink" href="#activitysim" title="Permalink to this headline">¶</a></h1>
<p>ActivitySim is an open platform for activity-based travel modeling. It emerged
from a consortium of Metropolitan Planning Organizations (MPOs) and other
transportation planning agencies that wanted to build a shared, open, platform
that could be easily adapted to their individual needs, but would share a
robust, efficient, and well-maintained common core.</p>
<p>Additional information about the ActivitySim development effort is on the
<a class="reference external" href="https://github.com/udst/activitysim/wiki">GitHub project wiki</a>.</p>
<div class="section" id="software-design">
<h2>Software Design<a class="headerlink" href="#software-design" title="Permalink to this headline">¶</a></h2>
<p>The core software components of ActivitySim are described below.  ActivitySim is
implemented in Python, and makes heavy use of the vectorized backend C/C++ libraries in
<a class="reference external" href="http://pandas.pydata.org">pandas</a>  and <a class="reference external" href="http://numpy.org">numpy</a>.  The core design
principle of the system is vectorization of for loops, and this principle
is woven into the system wherever reasonable.  As a result, the Python portions of the software
can be thought of as more of an orchestrator, data processor, etc. that integrates a series of
C/C++ vectorized data table and matrix operations.  The model system formulates
each simulation as a series of vectorized table operations and the Python layer
is responsible for setting up and providing expressions to operate on these large data tables.</p>
<div class="section" id="data-handling">
<h3>Data Handling<a class="headerlink" href="#data-handling" title="Permalink to this headline">¶</a></h3>
<p>ActivitySim operates on two data formats, <a class="reference external" href="https://www.hdfgroup.org/HDF5/">HDF5</a>
and <a class="reference external" href="https://github.com/osPlanning/omx">Open Matrix (OMX)</a>.
The HDF5 binary data container is used for managing flat files, including land use
inputs, synthetic population files, and accessibility files.
OMX, which is based on HDF5 as well, is used for managing network skims.</p>
<p>Three key data structures in ActivitySim are:</p>
<ul class="simple">
<li><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html">pandas.DataFrame</a> - A data table with rows and columns, similar to an R data frame, Excel worksheet, or database table</li>
<li><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.html">pandas.Series</a> - a vector of data, a column in a DataFrame table or a 1D array</li>
<li><a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/arrays.html">numpy.array</a> - an N-dimensional array of items of the same type, and is often a network skim matrix or collection of skim matrices by time-period or mode for example</li>
</ul>
</div>
<div class="section" id="model-orchestrator">
<h3>Model Orchestrator<a class="headerlink" href="#model-orchestrator" title="Permalink to this headline">¶</a></h3>
<p>An ActivitySim model is a sequence of model / data processing steps, commonly known as a data pipeline.
A well defined data pipeline has the ability to resume jobs at a known point, which facilitates
debugging of problems with data and/or calculations.  It also allows for checkpointing model
resources, such as the state of each person at a point in the model simulation.  Checkpointing also
allows for regression testing of results at specified points in overall model run.</p>
<p><a class="reference external" href="https://github.com/udst/orca">ORCA</a> is an orchestration/pipeline tool that defines model steps,
dynamic data sources, and connects them to processing functions. ORCA defines dynamic data tables
based on pandas DataFrames, columns based on pandas Series, and injectables (functions).  Model steps
are executed as steps registered with the ORCA engine.  ActivitySim extends ORCA’s functionality by
adding a <a class="reference internal" href="core.html#pipeline-in-detail"><span class="std std-ref">Pipeline</span></a>, that runs a series of ORCA model steps, manages the state of the data
tables throughout the model run, allows for restarting at any model step, and integrates with the
random number generation procedures (see <a class="reference internal" href="core.html#random-in-detail"><span class="std std-ref">Random</span></a>).</p>
</div>
<div class="section" id="expressions">
<h3>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h3>
<p>ActivitySim exposes most of its model expressions in CSV files.  These model expression CSV files
contain Python expressions, mainly pandas/numpy expression, and reference various input data tables
and network skim matrices.  With this design, the Python code, which can be thought of as a generic expression
engine, and the specific model calculations, such as the utilities, are separate.  This helps to avoid
modifying the actual Python code when making changes to the models, such as during model calibration. An
example of model expressions is found in the example auto ownership model specification file -
<a class="reference external" href="https://github.com/UDST/activitysim/blob/master/example/configs/auto_ownership.csv">auto_ownership.csv</a>.
Refer to the <a class="reference internal" href="gettingstarted.html#expressions-in-detail"><span class="std std-ref">Expressions</span></a> section for more detail.</p>
</div>
<div class="section" id="choice-models">
<h3>Choice Models<a class="headerlink" href="#choice-models" title="Permalink to this headline">¶</a></h3>
<p>ActivitySim currently supports multinomial (MNL) and nested logit (NL) choice models. Refer to <a class="reference internal" href="core.html#logit-in-detail"><span class="std std-ref">Logit</span></a>
for more information.  It also supports custom expressions as noted above, which can often be used to
code additional types of choice models.  In addition, developers can write their own choice models
in Python and expose these through the framework.</p>
</div>
</div>
<div class="section" id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.html#expressions">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="gettingstarted.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="howitworks.html">How the System Works</a><ul>
<li class="toctree-l2"><a class="reference internal" href="howitworks.html#execution-flow">Execution Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="howitworks.html#creating-new-tables">Creating New Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="howitworks.html#vectorized-3d-skim-indexing">Vectorized 3D Skim Indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="howitworks.html#accessibilities-model-step">Accessibilities Model Step</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dataschema.html">Data Schema</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dataschema.html#accessibilities">Accessibilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataschema.html#households">Households</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataschema.html#land-use">Land use</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataschema.html#persons">Persons</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataschema.html#size-terms">Size terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataschema.html#skims">Skims</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataschema.html#tours">Tours</a></li>
<li class="toctree-l2"><a class="reference internal" href="dataschema.html#trips">Trips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="core.html">Core Components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="core.html#simulate">Simulate</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#skim">Skim</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#logit">Logit</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#pipeline">Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#random">Random</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#tracing">Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#assign">Assign</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#utilities">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#config">Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#inject-defaults">Inject_Defaults</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html#tests">Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="models.html">Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="models.html#accessibility">Accessibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#auto-ownership">Auto Ownership</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#coordinated-daily-activity-pattern-cdap">Coordinated Daily Activity Pattern (CDAP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#destination-choice">Destination Choice</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#mandatory-scheduling">Mandatory Scheduling</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#mandatory-tour-frequency">Mandatory Tour Frequency</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#create-trips">Create Trips</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#mode-tour-and-trip">Mode (Tour and Trip)</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#non-mandatory-scheduling">Non-Mandatory Scheduling</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#non-mandatory-tour-frequency">Non-Mandatory Tour Frequency</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#school-location">School Location</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#workplace-location">Workplace Location</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#util">Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html#tests">Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="development.html#software-design">Software Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#style">Style</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#imports">Imports</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#working-together-in-the-repository">Working Together in the Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="development.html#releases">Releases</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gettingstarted.html" class="btn btn-neutral float-right" title="Getting Started" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright contributing authors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.3dev1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>